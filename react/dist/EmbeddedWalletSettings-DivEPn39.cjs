"use strict";const e=require("react/jsx-runtime"),N=require("react"),v=require("./LoadingSpinner-d6sSxgQN.cjs"),w=require("./ErrorMessage-CHbYbVi2.cjs"),i=require("./AutosaveStatus-CYkC2aI_.cjs"),l=["wallet_recovery_mode"];function S({className:a}){const{settings:c,edits:u,isLoading:m,autosaveStatus:x,autosaveError:j,error:d,fetchSettings:o,handleChange:r,getEffectiveValue:g}=i.useSettingsAutosave();N.useEffect(()=>{o()},[o]);const h=(c.features??[]).filter(n=>l.includes(n.key)).sort((n,p)=>l.indexOf(n.key)-l.indexOf(p.key)),s=g("feature_wallet_signing")==="true",f=()=>{r("feature_wallet_signing",s?"false":"true")},t=g("feature_user_withdrawals")==="true",b=()=>{r("feature_user_withdrawals",t?"false":"true")};return m&&Object.keys(c).length===0?e.jsxs("div",{className:`cedros-system-settings cedros-system-settings-loading ${a??""}`,children:[e.jsx(v.LoadingSpinner,{}),e.jsx("span",{children:"Loading settings..."})]}):d?e.jsx("div",{className:`cedros-system-settings ${a??""}`,children:e.jsx(w.ErrorMessage,{error:d.message})}):e.jsxs("div",{className:`cedros-system-settings ${a??""}`,children:[e.jsxs("div",{className:"cedros-settings-page-header",children:[e.jsxs("div",{className:"cedros-settings-page-header-content",children:[e.jsx("h2",{className:"cedros-settings-page-title",children:"Embedded Wallet"}),e.jsx("p",{className:"cedros-settings-page-description",children:"Configure the embedded wallet for transaction signing."})]}),e.jsxs("div",{className:"cedros-settings-page-header-actions",children:[e.jsxs("button",{type:"button",role:"switch","aria-checked":s,className:`cedros-toggle ${s?"cedros-toggle-on":"cedros-toggle-off"}`,onClick:f,children:[e.jsx("span",{className:"cedros-toggle-track",children:e.jsx("span",{className:"cedros-toggle-thumb"})}),e.jsx("span",{className:"cedros-toggle-label",children:s?"Enabled":"Disabled"})]}),e.jsx(i.AutosaveStatus,{status:x,error:j})]})]}),s&&e.jsx("div",{className:"cedros-settings-subsection",children:e.jsxs("div",{className:"cedros-settings-subsection-header",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"cedros-settings-subsection-title",children:"User Withdrawals"}),e.jsx("p",{className:"cedros-settings-subsection-description",children:"Allow users to withdraw SOL/SPL tokens from their embedded wallet to external addresses."})]}),e.jsxs("button",{type:"button",role:"switch","aria-checked":t,className:`cedros-toggle ${t?"cedros-toggle-on":"cedros-toggle-off"}`,onClick:b,children:[e.jsx("span",{className:"cedros-toggle-track",children:e.jsx("span",{className:"cedros-toggle-thumb"})}),e.jsx("span",{className:"cedros-toggle-label",children:t?"Enabled":"Disabled"})]})]})}),e.jsx("div",{className:"cedros-admin-tab-content",children:h.length===0?e.jsx("div",{className:"cedros-system-settings-empty",children:e.jsx("p",{children:"No additional settings available."})}):e.jsx(i.SettingsSection,{settings:h,edits:u,onChange:r})})]})}exports.EmbeddedWalletSettings=S;

{"version":3,"file":"ErrorMessage-CHbYbVi2.cjs","sources":["../src/components/shared/ErrorMessage.tsx"],"sourcesContent":["import { memo, useRef, useEffect } from 'react';\nimport type { DisplayError } from '../../types';\n\nexport interface ErrorMessageProps {\n  error: DisplayError;\n  className?: string;\n  onDismiss?: () => void;\n  /** If true, focus the error message when it appears (for accessibility) */\n  autoFocus?: boolean;\n}\n\n/**\n * Error message display component with accessibility support.\n * Announces errors to screen readers and optionally focuses the message.\n * Wrapped with React.memo to prevent unnecessary re-renders.\n */\nexport const ErrorMessage = memo(function ErrorMessage({\n  error,\n  className = '',\n  onDismiss,\n  autoFocus = false,\n}: ErrorMessageProps) {\n  const errorRef = useRef<HTMLDivElement>(null);\n\n  // Focus the error message when it appears (for accessibility)\n  useEffect(() => {\n    if (error && autoFocus && errorRef.current) {\n      errorRef.current.focus();\n    }\n  }, [error, autoFocus]);\n\n  if (!error) return null;\n\n  const message = typeof error === 'string' ? error : error.message;\n\n  return (\n    <div\n      ref={errorRef}\n      className={`cedros-error ${className}`}\n      role=\"alert\"\n      aria-live=\"assertive\"\n      tabIndex={autoFocus ? -1 : undefined}\n    >\n      <svg\n        className=\"cedros-error-icon\"\n        width=\"16\"\n        height=\"16\"\n        viewBox=\"0 0 16 16\"\n        fill=\"none\"\n        aria-hidden=\"true\"\n      >\n        <circle cx=\"8\" cy=\"8\" r=\"7\" stroke=\"currentColor\" strokeWidth=\"1.5\" />\n        <path d=\"M8 4.5v4\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" />\n        <circle cx=\"8\" cy=\"11\" r=\"0.75\" fill=\"currentColor\" />\n      </svg>\n      <span className=\"cedros-error-message\">{message}</span>\n      {onDismiss && (\n        <button\n          type=\"button\"\n          className=\"cedros-error-dismiss\"\n          onClick={onDismiss}\n          aria-label=\"Dismiss error\"\n        >\n          <svg width=\"14\" height=\"14\" viewBox=\"0 0 14 14\" fill=\"none\" aria-hidden=\"true\">\n            <path\n              d=\"M10.5 3.5L3.5 10.5M3.5 3.5l7 7\"\n              stroke=\"currentColor\"\n              strokeWidth=\"1.5\"\n              strokeLinecap=\"round\"\n            />\n          </svg>\n        </button>\n      )}\n    </div>\n  );\n});\n"],"names":["ErrorMessage","memo","error","className","onDismiss","autoFocus","errorRef","useRef","useEffect","message","jsxs","jsx"],"mappings":"qEAgBaA,EAAeC,EAAAA,KAAK,SAAsB,CACrD,MAAAC,EACA,UAAAC,EAAY,GACZ,UAAAC,EACA,UAAAC,EAAY,EACd,EAAsB,CACpB,MAAMC,EAAWC,EAAAA,OAAuB,IAAI,EAS5C,GANAC,EAAAA,UAAU,IAAM,CACVN,GAASG,GAAaC,EAAS,SACjCA,EAAS,QAAQ,MAAA,CAErB,EAAG,CAACJ,EAAOG,CAAS,CAAC,EAEjB,CAACH,EAAO,OAAO,KAEnB,MAAMO,EAAU,OAAOP,GAAU,SAAWA,EAAQA,EAAM,QAE1D,OACEQ,EAAAA,KAAC,MAAA,CACC,IAAKJ,EACL,UAAW,gBAAgBH,CAAS,GACpC,KAAK,QACL,YAAU,YACV,SAAUE,EAAY,GAAK,OAE3B,SAAA,CAAAK,EAAAA,KAAC,MAAA,CACC,UAAU,oBACV,MAAM,KACN,OAAO,KACP,QAAQ,YACR,KAAK,OACL,cAAY,OAEZ,SAAA,CAAAC,EAAAA,IAAC,SAAA,CAAO,GAAG,IAAI,GAAG,IAAI,EAAE,IAAI,OAAO,eAAe,YAAY,KAAA,CAAM,EACpEA,EAAAA,IAAC,QAAK,EAAE,WAAW,OAAO,eAAe,YAAY,MAAM,cAAc,OAAA,CAAQ,EACjFA,EAAAA,IAAC,UAAO,GAAG,IAAI,GAAG,KAAK,EAAE,OAAO,KAAK,cAAA,CAAe,CAAA,CAAA,CAAA,EAEtDA,EAAAA,IAAC,OAAA,CAAK,UAAU,uBAAwB,SAAAF,EAAQ,EAC/CL,GACCO,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,UAAU,uBACV,QAASP,EACT,aAAW,gBAEX,SAAAO,EAAAA,IAAC,MAAA,CAAI,MAAM,KAAK,OAAO,KAAK,QAAQ,YAAY,KAAK,OAAO,cAAY,OACtE,SAAAA,EAAAA,IAAC,OAAA,CACC,EAAE,iCACF,OAAO,eACP,YAAY,MACZ,cAAc,OAAA,CAAA,CAChB,CACF,CAAA,CAAA,CACF,CAAA,CAAA,CAIR,CAAC"}
{"version":3,"file":"plugin-Bhf9zaly.js","sources":["../src/components/admin/ProfileDropdown.tsx","../src/admin/AdminShell.tsx","../src/admin/icons.tsx","../src/admin/plugin.tsx"],"sourcesContent":["/**\n * Profile Dropdown Component\n *\n * Displays user avatar/name with a dropdown menu for settings and logout.\n */\n\nimport { useState, useRef, useEffect, useCallback } from 'react';\n\nexport interface ProfileDropdownProps {\n  /** User's display name */\n  name?: string;\n  /** User's email */\n  email?: string;\n  /** User's profile picture URL */\n  picture?: string;\n  /** Callback when Settings is clicked */\n  onSettings?: () => void;\n  /** Callback when Logout is clicked */\n  onLogout?: () => void;\n  /** Additional CSS class */\n  className?: string;\n}\n\n/**\n * Profile dropdown button with settings and logout options.\n *\n * @example\n * ```tsx\n * <ProfileDropdown\n *   name={user.name}\n *   email={user.email}\n *   picture={user.picture}\n *   onSettings={() => navigate('/settings')}\n *   onLogout={logout}\n * />\n * ```\n */\nexport function ProfileDropdown({\n  name,\n  email,\n  picture,\n  onSettings,\n  onLogout,\n  className = '',\n}: ProfileDropdownProps) {\n  const [isOpen, setIsOpen] = useState(false);\n  const dropdownRef = useRef<HTMLDivElement>(null);\n\n  // Close dropdown when clicking outside\n  useEffect(() => {\n    function handleClickOutside(event: MouseEvent) {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target as Node)) {\n        setIsOpen(false);\n      }\n    }\n\n    if (isOpen) {\n      document.addEventListener('mousedown', handleClickOutside);\n      return () => document.removeEventListener('mousedown', handleClickOutside);\n    }\n  }, [isOpen]);\n\n  // Close dropdown on escape key\n  useEffect(() => {\n    function handleEscape(event: KeyboardEvent) {\n      if (event.key === 'Escape') {\n        setIsOpen(false);\n      }\n    }\n\n    if (isOpen) {\n      document.addEventListener('keydown', handleEscape);\n      return () => document.removeEventListener('keydown', handleEscape);\n    }\n  }, [isOpen]);\n\n  const handleSettings = useCallback(() => {\n    setIsOpen(false);\n    onSettings?.();\n  }, [onSettings]);\n\n  const handleLogout = useCallback(() => {\n    setIsOpen(false);\n    onLogout?.();\n  }, [onLogout]);\n\n  const displayName = name || 'User';\n  const initial = (name?.[0] || email?.[0] || '?').toUpperCase();\n\n  return (\n    <div className={`cedros-profile-dropdown ${className}`} ref={dropdownRef}>\n      <button\n        type=\"button\"\n        className=\"cedros-profile-dropdown__trigger\"\n        onClick={() => setIsOpen(!isOpen)}\n        aria-expanded={isOpen}\n        aria-haspopup=\"menu\"\n      >\n        <div className=\"cedros-profile-dropdown__avatar\">\n          {picture ? (\n            <img\n              src={picture}\n              alt={displayName}\n              className=\"cedros-profile-dropdown__avatar-img\"\n              referrerPolicy=\"no-referrer\"\n            />\n          ) : (\n            <span className=\"cedros-profile-dropdown__avatar-placeholder\">{initial}</span>\n          )}\n        </div>\n        <div className=\"cedros-profile-dropdown__info\">\n          <span className=\"cedros-profile-dropdown__name\">{displayName}</span>\n          {email && <span className=\"cedros-profile-dropdown__email\">{email}</span>}\n        </div>\n        <svg\n          className={`cedros-profile-dropdown__chevron ${isOpen ? 'cedros-profile-dropdown__chevron--open' : ''}`}\n          width=\"16\"\n          height=\"16\"\n          viewBox=\"0 0 24 24\"\n          fill=\"none\"\n          stroke=\"currentColor\"\n          strokeWidth=\"2\"\n          strokeLinecap=\"round\"\n          strokeLinejoin=\"round\"\n        >\n          <path d=\"m6 9 6 6 6-6\" />\n        </svg>\n      </button>\n\n      {isOpen && (\n        <div className=\"cedros-profile-dropdown__menu\" role=\"menu\">\n          {onSettings && (\n            <button\n              type=\"button\"\n              className=\"cedros-profile-dropdown__item\"\n              onClick={handleSettings}\n              role=\"menuitem\"\n            >\n              <svg\n                width=\"16\"\n                height=\"16\"\n                viewBox=\"0 0 24 24\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                strokeWidth=\"2\"\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n              >\n                <path d=\"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z\" />\n                <circle cx=\"12\" cy=\"12\" r=\"3\" />\n              </svg>\n              Settings\n            </button>\n          )}\n          {onLogout && (\n            <button\n              type=\"button\"\n              className=\"cedros-profile-dropdown__item cedros-profile-dropdown__item--danger\"\n              onClick={handleLogout}\n              role=\"menuitem\"\n            >\n              <svg\n                width=\"16\"\n                height=\"16\"\n                viewBox=\"0 0 24 24\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                strokeWidth=\"2\"\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n              >\n                <path d=\"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4\" />\n                <polyline points=\"16 17 21 12 16 7\" />\n                <line x1=\"21\" x2=\"9\" y1=\"12\" y2=\"12\" />\n              </svg>\n              Log out\n            </button>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n","/**\n * AdminShell - Unified Admin Dashboard Host\n *\n * A shell component that hosts admin plugins from cedros-login, cedros-pay,\n * or any compatible plugin. Provides unified sidebar navigation and content area.\n *\n * @example\n * ```tsx\n * import { AdminShell } from '@cedros/login-react';\n * import { cedrosLoginPlugin } from '@cedros/login-react';\n * import { cedrosPayPlugin } from '@cedros/pay-react';\n *\n * function AdminPage() {\n *   const hostContext = useBuildHostContext();\n *   return (\n *     <AdminShell\n *       plugins={[cedrosLoginPlugin, cedrosPayPlugin]}\n *       hostContext={hostContext}\n *     />\n *   );\n * }\n * ```\n */\n\nimport React, {\n  createContext,\n  useContext,\n  useState,\n  useCallback,\n  useMemo,\n  useEffect,\n  Suspense,\n  type ReactNode,\n} from 'react';\nimport type {\n  AdminPlugin,\n  PluginRegistry,\n  HostContext,\n  QualifiedSectionId,\n  PluginContext,\n  ResolvedSection,\n} from './types';\nimport { LoadingSpinner } from '../components/shared/LoadingSpinner';\nimport { ProfileDropdown } from '../components/admin/ProfileDropdown';\nimport { CedrosLoginContext, type CedrosLoginContextValue } from '../context/CedrosLoginContext';\nimport type { AuthUser } from '../types';\n\n// ============================================================================\n// Plugin Registry Implementation\n// ============================================================================\n\nclass PluginRegistryImpl implements PluginRegistry {\n  private plugins = new Map<string, AdminPlugin>();\n  private listeners = new Set<(plugins: AdminPlugin[]) => void>();\n\n  register(plugin: AdminPlugin): void {\n    if (this.plugins.has(plugin.id)) {\n      console.warn(`Plugin ${plugin.id} already registered, replacing...`);\n    }\n    this.plugins.set(plugin.id, plugin);\n    plugin.onRegister?.(this);\n    this.notify();\n  }\n\n  unregister(pluginId: string): void {\n    const plugin = this.plugins.get(pluginId);\n    if (plugin) {\n      plugin.onUnregister?.();\n      this.plugins.delete(pluginId);\n      this.notify();\n    }\n  }\n\n  get(pluginId: string): AdminPlugin | undefined {\n    return this.plugins.get(pluginId);\n  }\n\n  getAll(): AdminPlugin[] {\n    return Array.from(this.plugins.values());\n  }\n\n  subscribe(listener: (plugins: AdminPlugin[]) => void): () => void {\n    this.listeners.add(listener);\n    return () => this.listeners.delete(listener);\n  }\n\n  private notify(): void {\n    const plugins = this.getAll();\n    this.listeners.forEach((listener) => listener(plugins));\n  }\n}\n\n// ============================================================================\n// Context\n// ============================================================================\n\ninterface AdminShellContextValue {\n  registry: PluginRegistry;\n  hostContext: HostContext;\n  activeSection: QualifiedSectionId | null;\n  setActiveSection: (section: QualifiedSectionId) => void;\n  getPluginContext: (pluginId: string) => PluginContext | null;\n}\n\nconst AdminShellContext = createContext<AdminShellContextValue | null>(null);\n\n// eslint-disable-next-line react-refresh/only-export-components\nexport function useAdminShell(): AdminShellContextValue {\n  const ctx = useContext(AdminShellContext);\n  if (!ctx) throw new Error('useAdminShell must be used within AdminShell');\n  return ctx;\n}\n\n// ============================================================================\n// Props\n// ============================================================================\n\nexport interface AdminShellProps {\n  /** Dashboard title */\n  title?: string;\n  /** Plugins to load */\n  plugins?: AdminPlugin[];\n  /** Host context from parent providers */\n  hostContext: HostContext;\n  /** Default active section (qualified ID) */\n  defaultSection?: QualifiedSectionId;\n  /** Page size for lists */\n  pageSize?: number;\n  /** Refresh interval in ms (0 to disable) */\n  refreshInterval?: number;\n  /** Callback when section changes */\n  onSectionChange?: (section: QualifiedSectionId) => void;\n  /** Custom logo/header content */\n  logo?: ReactNode;\n  /** Additional sidebar footer content */\n  sidebarFooter?: ReactNode;\n  /** Callback when user clicks Settings in profile dropdown */\n  onSettingsClick?: () => void;\n  /** Callback when user clicks Logout in profile dropdown */\n  onLogoutClick?: () => void;\n  /** Additional CSS class */\n  className?: string;\n}\n\n// ============================================================================\n// Group Order Helpers\n// ============================================================================\n\n/** Build a group-label â†’ order map from all registered plugins' groups[] config. */\nfunction buildGroupOrder(plugins: AdminPlugin[]): Map<string, number> {\n  const order = new Map<string, number>();\n  for (const plugin of plugins) {\n    for (const group of plugin.groups ?? []) {\n      // Key by label (sections reference groups by display name via section.group).\n      // First plugin to declare a group wins; later plugins don't override.\n      if (!order.has(group.label)) {\n        order.set(group.label, group.order);\n      }\n    }\n  }\n  return order;\n}\n\n// ============================================================================\n// AdminShell Component\n// ============================================================================\n\nexport function AdminShell({\n  title = 'Admin',\n  plugins: initialPlugins = [],\n  hostContext,\n  defaultSection,\n  pageSize = 20,\n  refreshInterval = 0,\n  onSectionChange,\n  logo,\n  sidebarFooter,\n  onSettingsClick,\n  onLogoutClick,\n  className = '',\n}: AdminShellProps): React.JSX.Element {\n  // Plugin registry\n  const [registry] = useState(() => {\n    const reg = new PluginRegistryImpl();\n    initialPlugins.forEach((p) => reg.register(p));\n    return reg;\n  });\n\n  // Track registered plugins for re-renders\n  const [registeredPlugins, setRegisteredPlugins] = useState<AdminPlugin[]>(() =>\n    registry.getAll()\n  );\n\n  useEffect(() => {\n    return registry.subscribe(setRegisteredPlugins);\n  }, [registry]);\n\n  // Aggregate sections from all plugins\n  const allSections = useMemo(() => {\n    return registeredPlugins.flatMap((plugin) =>\n      plugin.sections\n        .filter((section) => {\n          // Check RBAC permissions (role-based)\n          if (section.requiredPermission) {\n            if (!plugin.checkPermission(section.requiredPermission, hostContext)) {\n              return false;\n            }\n          }\n          // Check dashboard section permissions (owner-configured per role)\n          if (hostContext.dashboardPermissions) {\n            if (!hostContext.dashboardPermissions.canAccess(section.id)) {\n              return false;\n            }\n          }\n          return true;\n        })\n        .map(\n          (section): ResolvedSection => ({\n            ...section,\n            qualifiedId: `${plugin.id}:${section.id}` as QualifiedSectionId,\n            pluginId: plugin.id,\n            cssNamespace: plugin.cssNamespace,\n          })\n        )\n    );\n  }, [registeredPlugins, hostContext]);\n\n  // Active section state\n  const [activeSection, setActiveSectionInternal] = useState<QualifiedSectionId | null>(\n    () => defaultSection ?? allSections[0]?.qualifiedId ?? null\n  );\n\n  // Collapsible groups state\n  const [collapsedGroups, setCollapsedGroups] = useState<Set<string>>(new Set());\n\n  const toggleGroup = useCallback((groupName: string) => {\n    setCollapsedGroups((prev) => {\n      const next = new Set(prev);\n      if (next.has(groupName)) {\n        next.delete(groupName);\n      } else {\n        next.add(groupName);\n      }\n      return next;\n    });\n  }, []);\n\n  // Update active section when sections change and current is invalid\n  useEffect(() => {\n    if (activeSection && !allSections.find((s) => s.qualifiedId === activeSection)) {\n      setActiveSectionInternal(allSections[0]?.qualifiedId ?? null);\n    }\n  }, [allSections, activeSection]);\n\n  const setActiveSection = useCallback(\n    (section: QualifiedSectionId) => {\n      setActiveSectionInternal(section);\n      onSectionChange?.(section);\n    },\n    [onSectionChange]\n  );\n\n  // Plugin context factory\n  const getPluginContext = useCallback(\n    (pluginId: string): PluginContext | null => {\n      const plugin = registry.get(pluginId);\n      if (!plugin) return null;\n      return plugin.createPluginContext(hostContext);\n    },\n    [registry, hostContext]\n  );\n\n  // Group sections by group name, sorted by plugin-defined group order\n  const groupedSections = useMemo(() => {\n    const groupOrder = buildGroupOrder(registeredPlugins);\n    const groups = new Map<string, ResolvedSection[]>();\n\n    allSections.forEach((section) => {\n      const groupName = section.group ?? 'Menu';\n      const existing = groups.get(groupName) ?? [];\n      groups.set(groupName, [...existing, section]);\n    });\n\n    // Sort groups by plugin-defined order (undeclared groups sink to bottom)\n    const sortedGroups = Array.from(groups.entries()).sort(([a], [b]) => {\n      const orderA = groupOrder.get(a) ?? 99;\n      const orderB = groupOrder.get(b) ?? 99;\n      return orderA - orderB;\n    });\n\n    return sortedGroups;\n  }, [allSections, registeredPlugins]);\n\n  // Get current section's component\n  const currentSection = useMemo(() => {\n    if (!activeSection) return null;\n    const [pluginId, sectionId] = activeSection.split(':') as [string, string];\n    const plugin = registry.get(pluginId);\n    if (!plugin) return null;\n    const Component = plugin.components[sectionId];\n    if (!Component) return null;\n    const pluginContext = plugin.createPluginContext(hostContext);\n    return { Component, pluginContext, plugin };\n  }, [activeSection, registry, hostContext]);\n\n  // Context value\n  const contextValue = useMemo<AdminShellContextValue>(\n    () => ({\n      registry,\n      hostContext,\n      activeSection,\n      setActiveSection,\n      getPluginContext,\n    }),\n    [registry, hostContext, activeSection, setActiveSection, getPluginContext]\n  );\n\n  // Bridge hostContext.cedrosLogin into CedrosLoginContext so hooks\n  // (useOrgs, useAdminDeposits, etc.) work inside AdminShell sections.\n  const cedrosLoginContextValue = useMemo<CedrosLoginContextValue | null>(() => {\n    const cl = hostContext.cedrosLogin;\n    if (!cl) return null;\n    const user: AuthUser | null = cl.user\n      ? { authMethods: [], emailVerified: false, createdAt: '', updatedAt: '', ...cl.user }\n      : null;\n    return {\n      config: { serverUrl: cl.serverUrl },\n      user,\n      authState: cl.user ? 'authenticated' : 'unauthenticated',\n      error: null,\n      logout: async () => {},\n      refreshUser: async () => {},\n      isModalOpen: false,\n      openModal: () => {},\n      closeModal: () => {},\n      _internal: {\n        handleLoginSuccess: () => {},\n        getAccessToken: cl.getAccessToken,\n      },\n    };\n  }, [hostContext.cedrosLogin]);\n\n  return (\n    <AdminShellContext.Provider value={contextValue}>\n      <CedrosLoginContext.Provider value={cedrosLoginContextValue}>\n        <div className={`cedros-admin cedros-admin-shell ${className || ''}`}>\n          {/* Sidebar */}\n          <aside className=\"cedros-admin-shell__sidebar\">\n            <div className=\"cedros-admin-shell__sidebar-header\">\n              {logo ?? (\n                <div className=\"cedros-admin-shell__logo\">\n                  <span className=\"cedros-admin-shell__logo-text\">{title}</span>\n                </div>\n              )}\n            </div>\n\n            <nav className=\"cedros-admin-shell__nav\">\n              {groupedSections.map(([groupName, sections]) => {\n                const isCollapsible = groupName === 'Configuration';\n                const isCollapsed = collapsedGroups.has(groupName);\n\n                return (\n                  <div key={groupName} className=\"cedros-admin-shell__nav-group\">\n                    {isCollapsible ? (\n                      <button\n                        type=\"button\"\n                        className=\"cedros-admin-shell__nav-label cedros-admin-shell__nav-label--collapsible\"\n                        onClick={() => toggleGroup(groupName)}\n                        aria-expanded={!isCollapsed}\n                      >\n                        <span>{groupName}</span>\n                        <span\n                          className={`cedros-admin-shell__nav-chevron ${!isCollapsed ? 'cedros-admin-shell__nav-chevron--expanded' : ''}`}\n                        >\n                          <svg\n                            width=\"16\"\n                            height=\"16\"\n                            viewBox=\"0 0 24 24\"\n                            fill=\"none\"\n                            stroke=\"currentColor\"\n                            strokeWidth=\"2\"\n                            strokeLinecap=\"round\"\n                            strokeLinejoin=\"round\"\n                          >\n                            <path d=\"m9 18 6-6-6-6\" />\n                          </svg>\n                        </span>\n                      </button>\n                    ) : (\n                      <span className=\"cedros-admin-shell__nav-label\">{groupName}</span>\n                    )}\n                    {(!isCollapsible || !isCollapsed) &&\n                      sections\n                        .sort((a, b) => (a.order ?? 0) - (b.order ?? 0))\n                        .map((section) => (\n                          <button\n                            key={section.qualifiedId}\n                            type=\"button\"\n                            className={`cedros-admin-shell__nav-item ${\n                              activeSection === section.qualifiedId\n                                ? 'cedros-admin-shell__nav-item--active'\n                                : ''\n                            }`}\n                            onClick={() => setActiveSection(section.qualifiedId)}\n                            aria-current={\n                              activeSection === section.qualifiedId ? 'page' : undefined\n                            }\n                          >\n                            <span className=\"cedros-admin-shell__nav-icon\">{section.icon}</span>\n                            <span className=\"cedros-admin-shell__nav-text\">{section.label}</span>\n                            {section.badge && (\n                              <span className=\"cedros-admin-shell__nav-badge\">{section.badge}</span>\n                            )}\n                          </button>\n                        ))}\n                  </div>\n                );\n              })}\n            </nav>\n\n            {/* User profile dropdown + optional custom footer */}\n            {(hostContext.cedrosLogin?.user || sidebarFooter) && (\n              <div className=\"cedros-admin-shell__sidebar-footer\">\n                {hostContext.cedrosLogin?.user && (\n                  <ProfileDropdown\n                    name={hostContext.cedrosLogin.user.name}\n                    email={hostContext.cedrosLogin.user.email}\n                    picture={hostContext.cedrosLogin.user.picture}\n                    onSettings={onSettingsClick}\n                    onLogout={onLogoutClick}\n                  />\n                )}\n                {sidebarFooter}\n              </div>\n            )}\n          </aside>\n\n          {/* Main Content */}\n          <main className=\"cedros-admin-shell__main\">\n            {currentSection ? (\n              <Suspense fallback={<LoadingFallback />}>\n                <div\n                  className=\"cedros-admin-shell__section\"\n                  data-plugin-namespace={currentSection.plugin.cssNamespace}\n                >\n                  <currentSection.Component\n                    pluginContext={currentSection.pluginContext}\n                    pageSize={pageSize}\n                    refreshInterval={refreshInterval}\n                  />\n                </div>\n              </Suspense>\n            ) : (\n              <div className=\"cedros-admin-shell__empty\">\n                {allSections.length === 0\n                  ? 'No plugins loaded'\n                  : 'Select a section from the sidebar'}\n              </div>\n            )}\n          </main>\n        </div>\n      </CedrosLoginContext.Provider>\n    </AdminShellContext.Provider>\n  );\n}\n\n// ============================================================================\n// Helper Components\n// ============================================================================\n\nfunction LoadingFallback(): React.JSX.Element {\n  return (\n    <div className=\"cedros-admin-shell__loading\">\n      <LoadingSpinner />\n      <span>Loading...</span>\n    </div>\n  );\n}\n","/**\n * Admin Dashboard Icons\n *\n * SVG icons for the admin dashboard sidebar and sections.\n * Lucide-style, 24x24 viewBox rendered at 16x16.\n */\n\nimport type { ReactNode } from 'react';\n\nconst iconProps = {\n  width: '16',\n  height: '16',\n  viewBox: '0 0 24 24',\n  fill: 'none',\n  stroke: 'currentColor',\n  strokeWidth: '2',\n  strokeLinecap: 'round' as const,\n  strokeLinejoin: 'round' as const,\n};\n\nexport const Icons: Record<string, ReactNode> = {\n  users: (\n    <svg {...iconProps}>\n      <path d=\"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2\" />\n      <circle cx=\"9\" cy=\"7\" r=\"4\" />\n      <path d=\"M22 21v-2a4 4 0 0 0-3-3.87\" />\n      <path d=\"M16 3.13a4 4 0 0 1 0 7.75\" />\n    </svg>\n  ),\n\n  members: (\n    <svg {...iconProps}>\n      <path d=\"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2\" />\n      <circle cx=\"9\" cy=\"7\" r=\"4\" />\n      <path d=\"M22 21v-2a4 4 0 0 0-3-3.87\" />\n      <path d=\"M16 3.13a4 4 0 0 1 0 7.75\" />\n    </svg>\n  ),\n\n  invites: (\n    <svg {...iconProps}>\n      <rect width=\"20\" height=\"16\" x=\"2\" y=\"4\" rx=\"2\" />\n      <path d=\"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7\" />\n    </svg>\n  ),\n\n  deposits: (\n    <svg {...iconProps}>\n      <circle cx=\"12\" cy=\"12\" r=\"10\" />\n      <path d=\"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8\" />\n      <path d=\"M12 18V6\" />\n    </svg>\n  ),\n\n  withdrawals: (\n    <svg {...iconProps}>\n      <rect width=\"16\" height=\"20\" x=\"4\" y=\"2\" rx=\"2\" ry=\"2\" />\n      <path d=\"M9 22v-4h6v4\" />\n      <path d=\"M8 6h.01\" />\n      <path d=\"M16 6h.01\" />\n      <path d=\"M12 6h.01\" />\n      <path d=\"M12 10h.01\" />\n      <path d=\"M12 14h.01\" />\n      <path d=\"M16 10h.01\" />\n      <path d=\"M16 14h.01\" />\n      <path d=\"M8 10h.01\" />\n      <path d=\"M8 14h.01\" />\n    </svg>\n  ),\n\n  settings: (\n    <svg {...iconProps}>\n      <path d=\"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z\" />\n      <circle cx=\"12\" cy=\"12\" r=\"3\" />\n    </svg>\n  ),\n\n  wallet: (\n    <svg {...iconProps}>\n      <path d=\"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1\" />\n      <path d=\"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4\" />\n    </svg>\n  ),\n\n  chevronRight: (\n    <svg {...iconProps}>\n      <path d=\"m9 18 6-6-6-6\" />\n    </svg>\n  ),\n\n  // Settings sub-page icons\n  key: (\n    <svg {...iconProps}>\n      <path d=\"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4\" />\n    </svg>\n  ),\n\n  toggles: (\n    <svg {...iconProps}>\n      <rect width=\"20\" height=\"12\" x=\"2\" y=\"6\" rx=\"6\" />\n      <circle cx=\"8\" cy=\"12\" r=\"2\" />\n    </svg>\n  ),\n\n  shield: (\n    <svg {...iconProps}>\n      <path d=\"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z\" />\n    </svg>\n  ),\n\n  mail: (\n    <svg {...iconProps}>\n      <rect width=\"20\" height=\"16\" x=\"2\" y=\"4\" rx=\"2\" />\n      <path d=\"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7\" />\n    </svg>\n  ),\n\n  webhook: (\n    <svg {...iconProps}>\n      <path d=\"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2\" />\n      <path d=\"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06\" />\n      <path d=\"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8\" />\n    </svg>\n  ),\n\n  coins: (\n    <svg {...iconProps}>\n      <circle cx=\"8\" cy=\"8\" r=\"6\" />\n      <path d=\"M18.09 10.37A6 6 0 1 1 10.34 18\" />\n      <path d=\"M7 6h1v4\" />\n      <path d=\"m16.71 13.88.7.71-2.82 2.82\" />\n    </svg>\n  ),\n\n  server: (\n    <svg {...iconProps}>\n      <rect width=\"20\" height=\"8\" x=\"2\" y=\"2\" rx=\"2\" ry=\"2\" />\n      <rect width=\"20\" height=\"8\" x=\"2\" y=\"14\" rx=\"2\" ry=\"2\" />\n      <line x1=\"6\" x2=\"6.01\" y1=\"6\" y2=\"6\" />\n      <line x1=\"6\" x2=\"6.01\" y1=\"18\" y2=\"18\" />\n    </svg>\n  ),\n};\n","/**\n * Cedros Login Admin Plugin\n *\n * Exports the cedrosLoginPlugin for use with AdminShell.\n * Provides user management, deposits, withdrawals, and configuration sections.\n */\n\nimport { lazy } from 'react';\nimport type { AdminPlugin, HostContext, PluginContext, AdminSectionConfig } from './types';\nimport { Icons } from './icons';\n\n// ============================================================================\n// Lazy-loaded Section Components\n// ============================================================================\n\nconst UsersSection = lazy(() => import('./sections/UsersSection'));\nconst TeamSection = lazy(() => import('./sections/TeamSection'));\nconst DepositsSection = lazy(() => import('./sections/DepositsSection'));\nconst WithdrawalsSection = lazy(() => import('./sections/WithdrawalsSection'));\nconst AuthenticationSettings = lazy(() => import('./sections/AuthenticationSettings'));\nconst EmbeddedWalletSettings = lazy(() => import('./sections/EmbeddedWalletSettings'));\nconst EmailSettings = lazy(() => import('./sections/EmailSettings'));\nconst WebhookSettings = lazy(() => import('./sections/WebhookSettings'));\nconst CreditSystemSettings = lazy(() => import('./sections/CreditSystemSettings'));\nconst ServerSettings = lazy(() => import('./sections/ServerSettings'));\n\n// ============================================================================\n// Permission Mapping\n// ============================================================================\n\ntype LoginPermission =\n  | 'login:users:read'\n  | 'login:users:write'\n  | 'login:members:read'\n  | 'login:members:write'\n  | 'login:invites:read'\n  | 'login:invites:write'\n  | 'login:deposits:read'\n  | 'login:deposits:write'\n  | 'login:settings:read'\n  | 'login:settings:write';\n\n/**\n * Maps plugin permissions to org-level permissions/roles.\n */\nconst PERMISSION_MAP: Record<LoginPermission, string[]> = {\n  'login:users:read': ['admin', 'owner'],\n  'login:users:write': ['admin', 'owner'],\n  'login:members:read': ['member:read', 'admin', 'owner'],\n  'login:members:write': ['member:remove', 'member:role_change'],\n  'login:invites:read': ['invite:read', 'admin', 'owner'],\n  'login:invites:write': ['invite:create', 'invite:cancel'],\n  'login:deposits:read': ['admin', 'owner'],\n  'login:deposits:write': ['admin', 'owner'],\n  'login:settings:read': ['admin', 'owner'],\n  'login:settings:write': ['admin', 'owner'],\n};\n\n// ============================================================================\n// Section Configuration\n// ============================================================================\n\nconst SECTIONS: AdminSectionConfig[] = [\n  // Users group (main sections)\n  {\n    id: 'users',\n    label: 'Users',\n    icon: Icons.users,\n    group: 'Users',\n    order: 0,\n    requiredPermission: 'login:users:read',\n  },\n  {\n    id: 'team',\n    label: 'Team',\n    icon: Icons.members,\n    group: 'Users',\n    order: 1,\n    requiredPermission: 'login:members:read',\n  },\n  {\n    id: 'deposits',\n    label: 'Deposits',\n    icon: Icons.deposits,\n    group: 'Users',\n    order: 2,\n    requiredPermission: 'login:deposits:read',\n  },\n  {\n    id: 'withdrawals',\n    label: 'Withdrawals',\n    icon: Icons.withdrawals,\n    group: 'Users',\n    order: 3,\n    requiredPermission: 'login:deposits:read',\n  },\n\n  // Configuration group (settings sections)\n  {\n    id: 'settings-auth',\n    label: 'Authentication',\n    icon: Icons.key,\n    group: 'Configuration',\n    order: 0,\n    requiredPermission: 'login:settings:read',\n  },\n  {\n    id: 'settings-email',\n    label: 'Email & SMTP',\n    icon: Icons.mail,\n    group: 'Configuration',\n    order: 1,\n    requiredPermission: 'login:settings:read',\n  },\n  {\n    id: 'settings-webhooks',\n    label: 'Webhooks',\n    icon: Icons.webhook,\n    group: 'Configuration',\n    order: 2,\n    requiredPermission: 'login:settings:read',\n  },\n  {\n    id: 'settings-wallet',\n    label: 'User Wallets',\n    icon: Icons.wallet,\n    group: 'Configuration',\n    order: 3,\n    requiredPermission: 'login:settings:read',\n  },\n  {\n    id: 'settings-credits',\n    label: 'Credit System',\n    icon: Icons.coins,\n    group: 'Configuration',\n    order: 4,\n    requiredPermission: 'login:settings:read',\n  },\n  {\n    id: 'settings-server',\n    label: 'Auth Server',\n    icon: Icons.server,\n    group: 'Configuration',\n    order: 5,\n    requiredPermission: 'login:settings:read',\n  },\n];\n\n// ============================================================================\n// Plugin Definition\n// ============================================================================\n\nexport const cedrosLoginPlugin: AdminPlugin = {\n  id: 'cedros-login',\n  name: 'Cedros Login',\n  version: '1.0.0',\n\n  sections: SECTIONS,\n\n  groups: [\n    { id: 'users', label: 'Users', order: 0 },\n    { id: 'configuration', label: 'Configuration', order: 2 },\n  ],\n\n  components: {\n    users: UsersSection,\n    team: TeamSection,\n    deposits: DepositsSection,\n    withdrawals: WithdrawalsSection,\n    'settings-auth': AuthenticationSettings,\n    'settings-wallet': EmbeddedWalletSettings,\n    'settings-email': EmailSettings,\n    'settings-webhooks': WebhookSettings,\n    'settings-credits': CreditSystemSettings,\n    'settings-server': ServerSettings,\n  },\n\n  createPluginContext(hostContext: HostContext): PluginContext {\n    const cedrosLogin = hostContext.cedrosLogin;\n    if (!cedrosLogin) {\n      throw new Error('cedros-login plugin requires cedrosLogin in hostContext');\n    }\n\n    return {\n      serverUrl: cedrosLogin.serverUrl,\n      userId: cedrosLogin.user?.id,\n      getAccessToken: cedrosLogin.getAccessToken,\n      hasPermission: (permission) => this.checkPermission(permission, hostContext),\n      orgId: hostContext.org?.orgId,\n      pluginData: {\n        user: cedrosLogin.user,\n        orgRole: hostContext.org?.role,\n      },\n    };\n  },\n\n  checkPermission(permission: string, hostContext: HostContext): boolean {\n    const org = hostContext.org;\n\n    // No org context = admin-level access (for global admins)\n    if (!org) {\n      // Check if user is in cedrosLogin context - assume admin if present\n      return Boolean(hostContext.cedrosLogin?.user);\n    }\n\n    const requiredPerms = PERMISSION_MAP[permission as LoginPermission];\n    if (!requiredPerms) {\n      // Unknown permission - default deny\n      return false;\n    }\n\n    // Check if user has any of the required permissions\n    return requiredPerms.some(\n      (p) =>\n        org.permissions.includes(p) ||\n        p === org.role ||\n        (p === 'admin' && ['admin', 'owner'].includes(org.role)) ||\n        (p === 'owner' && org.role === 'owner')\n    );\n  },\n\n  cssNamespace: 'cedros-dashboard',\n};\n\n// Named export for convenience\nexport { cedrosLoginPlugin as loginPlugin };\n\n/**\n * All section IDs registered by the cedros-login plugin.\n *\n * Use these to reference specific sections when configuring\n * `dashboardPermissions.canAccess()` or navigating programmatically.\n *\n * Qualified IDs (for multi-plugin use) are prefixed: `cedros-login:{id}`.\n */\nexport const CEDROS_LOGIN_SECTION_IDS = {\n  users: 'users',\n  team: 'team',\n  deposits: 'deposits',\n  withdrawals: 'withdrawals',\n  settingsAuth: 'settings-auth',\n  settingsEmail: 'settings-email',\n  settingsWebhooks: 'settings-webhooks',\n  settingsWallet: 'settings-wallet',\n  settingsCredits: 'settings-credits',\n  settingsServer: 'settings-server',\n} as const;\n"],"names":["ProfileDropdown","name","email","picture","onSettings","onLogout","className","isOpen","setIsOpen","useState","dropdownRef","useRef","useEffect","handleClickOutside","event","handleEscape","handleSettings","useCallback","handleLogout","displayName","initial","jsxs","jsx","PluginRegistryImpl","plugin","pluginId","listener","plugins","AdminShellContext","createContext","useAdminShell","ctx","useContext","buildGroupOrder","order","group","AdminShell","title","initialPlugins","hostContext","defaultSection","pageSize","refreshInterval","onSectionChange","logo","sidebarFooter","onSettingsClick","onLogoutClick","registry","reg","p","registeredPlugins","setRegisteredPlugins","allSections","useMemo","section","activeSection","setActiveSectionInternal","collapsedGroups","setCollapsedGroups","toggleGroup","groupName","prev","next","s","setActiveSection","getPluginContext","groupedSections","groupOrder","groups","existing","a","b","orderA","orderB","currentSection","sectionId","Component","pluginContext","contextValue","cedrosLoginContextValue","cl","user","CedrosLoginContext","sections","isCollapsible","isCollapsed","Suspense","LoadingFallback","LoadingSpinner","iconProps","Icons","UsersSection","lazy","TeamSection","DepositsSection","WithdrawalsSection","AuthenticationSettings","EmbeddedWalletSettings","EmailSettings","WebhookSettings","CreditSystemSettings","ServerSettings","PERMISSION_MAP","SECTIONS","cedrosLoginPlugin","cedrosLogin","permission","org","requiredPerms","CEDROS_LOGIN_SECTION_IDS"],"mappings":"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"}
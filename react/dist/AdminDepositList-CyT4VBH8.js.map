{"version":3,"file":"AdminDepositList-CyT4VBH8.js","sources":["../src/components/deposit/admin/AdminDepositStats.tsx","../src/components/deposit/admin/AdminDepositList.tsx"],"sourcesContent":["/**\n * Admin deposit statistics component\n *\n * Shows aggregate statistics for Privacy Cash deposits.\n * Requires system admin privileges.\n */\n\nimport { useState, useEffect, useCallback } from 'react';\nimport { useAdminDeposits } from '../../../hooks/useAdminDeposits';\nimport type { AdminDepositStatsResponse } from '../../../types/deposit';\nimport { FeatureDisabledMessage } from './FeatureDisabledMessage';\nimport { isFeatureDisabledError } from './featureDisabled';\nimport { StatsBar } from '../../admin/StatsBar';\n\nexport interface AdminDepositStatsProps {\n  /** Auto-refresh interval in milliseconds (0 to disable) */\n  refreshInterval?: number;\n  /** External refresh signal from parent coordinator */\n  refreshSignal?: number;\n  /** Additional CSS classes */\n  className?: string;\n  /** Callback when stats are loaded */\n  onLoad?: (stats: AdminDepositStatsResponse) => void;\n}\n\n/**\n * Admin deposit statistics display\n *\n * Shows total deposits, withdrawals, and pending amounts.\n */\nexport function AdminDepositStats({\n  refreshInterval = 0,\n  refreshSignal,\n  className = '',\n  onLoad,\n}: AdminDepositStatsProps) {\n  const { getStats, isLoading, error, clearError } = useAdminDeposits();\n\n  const [stats, setStats] = useState<AdminDepositStatsResponse | null>(null);\n  const [loadError, setLoadError] = useState<string | null>(null);\n\n  const fetchStats = useCallback(async () => {\n    try {\n      const result = await getStats();\n      setStats(result);\n      onLoad?.(result);\n      setLoadError(null);\n    } catch (err) {\n      const message =\n        err && typeof err === 'object' && 'message' in err\n          ? String((err as { message: unknown }).message)\n          : 'Failed to load stats';\n      setLoadError(message);\n    }\n  }, [getStats, onLoad]);\n\n  // Fetch on mount\n  useEffect(() => {\n    fetchStats();\n  }, [fetchStats]);\n\n  useEffect(() => {\n    if (refreshSignal === undefined) return;\n    fetchStats();\n  }, [refreshSignal, fetchStats]);\n\n  // Auto-refresh\n  useEffect(() => {\n    if (refreshSignal !== undefined) return;\n    if (refreshInterval <= 0) return;\n\n    const interval = setInterval(fetchStats, refreshInterval);\n    return () => clearInterval(interval);\n  }, [refreshInterval, refreshSignal, fetchStats]);\n\n  // Feature disabled state\n  const errorMessage = loadError || error;\n  if (isFeatureDisabledError(errorMessage)) {\n    return <FeatureDisabledMessage feature=\"Privacy Cash\" className={className} />;\n  }\n\n  // Error state\n  if (errorMessage) {\n    return (\n      <div className={`cedros-admin-stats cedros-admin-stats-error ${className}`}>\n        <p className=\"cedros-admin-error\">{errorMessage}</p>\n        <button\n          type=\"button\"\n          className=\"cedros-button cedros-button-outline\"\n          onClick={() => {\n            clearError();\n            setLoadError(null);\n            fetchStats();\n          }}\n        >\n          Retry\n        </button>\n      </div>\n    );\n  }\n\n  // Loading state\n  if (isLoading && !stats) {\n    return (\n      <div className={`cedros-admin-stats cedros-admin-stats-loading ${className}`}>\n        <span className=\"cedros-admin-loading-indicator\" />\n        <span className=\"cedros-admin-loading-text\">Loading statistics...</span>\n      </div>\n    );\n  }\n\n  if (!stats) {\n    return null;\n  }\n\n  return (\n    <div className={`cedros-admin-stats ${className}`}>\n      <StatsBar\n        stats={[\n          { label: 'Total Deposits', value: stats.totalDeposits },\n          { label: 'Private Deposits', value: stats.inPrivacyPeriodCount ?? 0 },\n          { label: 'Standard Deposits', value: stats.readyForWithdrawalCount ?? 0 },\n          { label: 'Microdeposits', value: stats.nativeSolDepositCount ?? 0 },\n        ]}\n        isLoading={isLoading}\n        onRefresh={fetchStats}\n      />\n    </div>\n  );\n}\n","/**\n * Admin deposit list component\n *\n * Shows a paginated list of all deposits across all users.\n * Requires system admin privileges.\n */\n\nimport { useState, useEffect, useCallback, useMemo } from 'react';\nimport { useAdminDeposits } from '../../../hooks/useAdminDeposits';\nimport type { AdminDepositItem, AdminDepositListResponse } from '../../../types/deposit';\nimport { FeatureDisabledMessage } from './FeatureDisabledMessage';\nimport { isFeatureDisabledError } from './featureDisabled';\n\ntype DepositSortField = 'userId' | 'amountLamports' | 'status' | 'createdAt' | 'txSignature';\ntype SortOrder = 'asc' | 'desc';\n\nexport interface AdminDepositListProps {\n  /** Filter by status (comma-separated) */\n  statusFilter?: string;\n  /** Number of items per page (default: 20) */\n  pageSize?: number;\n  /** Auto-refresh interval in milliseconds (0 to disable) */\n  refreshInterval?: number;\n  /** External refresh signal from parent coordinator */\n  refreshSignal?: number;\n  /** Additional CSS classes */\n  className?: string;\n  /** Callback when list is loaded */\n  onLoad?: (response: AdminDepositListResponse) => void;\n  /** Callback when a deposit is clicked */\n  onDepositClick?: (deposit: AdminDepositItem) => void;\n}\n\ntype DepositStatusType =\n  | 'pending'\n  | 'detected'\n  | 'processing'\n  | 'completed'\n  | 'withdrawn'\n  | 'partially_withdrawn'\n  | 'expired'\n  | 'failed';\n\nfunction getStatusLabel(status: DepositStatusType): string {\n  const labels: Record<DepositStatusType, string> = {\n    pending: 'Pending',\n    detected: 'Detected',\n    processing: 'Processing',\n    completed: 'Completed',\n    withdrawn: 'Withdrawn',\n    partially_withdrawn: 'Partially Withdrawn',\n    expired: 'Expired',\n    failed: 'Failed',\n  };\n  return labels[status] || status;\n}\n\nfunction getStatusClass(status: DepositStatusType): string {\n  if (status === 'completed' || status === 'withdrawn' || status === 'partially_withdrawn') {\n    return 'cedros-admin-deposit-success';\n  }\n  if (status === 'failed' || status === 'expired') return 'cedros-admin-deposit-error';\n  if (status === 'processing' || status === 'detected') return 'cedros-admin-deposit-processing';\n  return 'cedros-admin-deposit-pending';\n}\n\nfunction formatAmount(lamports: number | null): string {\n  if (lamports === null || lamports === undefined) return '—';\n  const solAmount = lamports / 1_000_000_000;\n  return `${solAmount.toFixed(4)} SOL`;\n}\n\nfunction formatDate(dateString: string): string {\n  const date = new Date(dateString);\n  return date.toLocaleDateString(undefined, {\n    year: 'numeric',\n    month: 'short',\n    day: 'numeric',\n    hour: '2-digit',\n    minute: '2-digit',\n  });\n}\n\nfunction truncateId(id: string): string {\n  if (id.length <= 12) return id;\n  return `${id.slice(0, 6)}...${id.slice(-4)}`;\n}\n\n/**\n * Admin deposit list display\n *\n * Shows paginated list of all deposits with user info.\n */\nexport function AdminDepositList({\n  statusFilter,\n  pageSize = 20,\n  refreshInterval = 0,\n  refreshSignal,\n  className = '',\n  onLoad,\n  onDepositClick,\n}: AdminDepositListProps) {\n  const { listDeposits, isLoading, error, clearError } = useAdminDeposits();\n\n  const [deposits, setDeposits] = useState<AdminDepositItem[]>([]);\n  const [total, setTotal] = useState(0);\n  const [offset, setOffset] = useState(0);\n  const [loadError, setLoadError] = useState<string | null>(null);\n  const [sortField, setSortField] = useState<DepositSortField>('createdAt');\n  const [sortOrder, setSortOrder] = useState<SortOrder>('desc');\n\n  const toggleSort = (field: DepositSortField) => {\n    if (sortField === field) {\n      setSortOrder(sortOrder === 'asc' ? 'desc' : 'asc');\n    } else {\n      setSortField(field);\n      setSortOrder('desc');\n    }\n  };\n\n  const sortedDeposits = useMemo(() => {\n    return [...deposits].sort((a, b) => {\n      let aVal: string | number | null;\n      let bVal: string | number | null;\n\n      switch (sortField) {\n        case 'userId':\n          aVal = a.userId.toLowerCase();\n          bVal = b.userId.toLowerCase();\n          break;\n        case 'amountLamports':\n          aVal = a.amountLamports ?? 0;\n          bVal = b.amountLamports ?? 0;\n          break;\n        case 'status':\n          aVal = a.status;\n          bVal = b.status;\n          break;\n        case 'createdAt':\n          aVal = new Date(a.createdAt).getTime();\n          bVal = new Date(b.createdAt).getTime();\n          break;\n        case 'txSignature':\n          aVal = a.txSignature || '';\n          bVal = b.txSignature || '';\n          break;\n        default:\n          return 0;\n      }\n\n      if (aVal < bVal) return sortOrder === 'asc' ? -1 : 1;\n      if (aVal > bVal) return sortOrder === 'asc' ? 1 : -1;\n      return 0;\n    });\n  }, [deposits, sortField, sortOrder]);\n\n  const fetchDeposits = useCallback(async () => {\n    try {\n      const result = await listDeposits({ status: statusFilter, limit: pageSize, offset });\n      setDeposits(result.deposits);\n      setTotal(result.total);\n      onLoad?.(result);\n      setLoadError(null);\n    } catch (err) {\n      const message =\n        err && typeof err === 'object' && 'message' in err\n          ? String((err as { message: unknown }).message)\n          : 'Failed to load deposits';\n      setLoadError(message);\n    }\n  }, [statusFilter, pageSize, offset, listDeposits, onLoad]);\n\n  // Reset offset when filters change\n  useEffect(() => {\n    setOffset(0);\n  }, [statusFilter, pageSize]);\n\n  // Fetch on mount and when dependencies change\n  useEffect(() => {\n    fetchDeposits();\n  }, [fetchDeposits]);\n\n  useEffect(() => {\n    if (refreshSignal === undefined) return;\n    fetchDeposits();\n  }, [refreshSignal, fetchDeposits]);\n\n  // Auto-refresh\n  useEffect(() => {\n    if (refreshSignal !== undefined) return;\n    if (refreshInterval <= 0) return;\n\n    const interval = setInterval(fetchDeposits, refreshInterval);\n    return () => clearInterval(interval);\n  }, [refreshInterval, refreshSignal, fetchDeposits]);\n\n  const totalPages = Math.ceil(total / pageSize);\n  const currentPage = Math.floor(offset / pageSize) + 1;\n\n  const goToPage = (page: number) => {\n    const newOffset = (page - 1) * pageSize;\n    setOffset(Math.max(0, Math.min(newOffset, Math.max(0, total - 1))));\n  };\n\n  // Feature disabled state\n  const errorMessage = loadError || error;\n  if (isFeatureDisabledError(errorMessage)) {\n    return <FeatureDisabledMessage feature=\"Privacy Cash\" className={className} />;\n  }\n\n  // Error state\n  if (errorMessage) {\n    return (\n      <div className={`cedros-admin-deposit-list cedros-admin-deposit-list-error ${className}`}>\n        <p className=\"cedros-admin-error\">{errorMessage}</p>\n        <button\n          type=\"button\"\n          className=\"cedros-button cedros-button-outline\"\n          onClick={() => {\n            clearError();\n            setLoadError(null);\n            fetchDeposits();\n          }}\n        >\n          Retry\n        </button>\n      </div>\n    );\n  }\n\n  // Loading state (initial load only)\n  if (isLoading && deposits.length === 0) {\n    return (\n      <div className={`cedros-admin-deposit-list cedros-admin-deposit-list-loading ${className}`}>\n        <span className=\"cedros-admin-loading-indicator\" />\n        <span className=\"cedros-admin-loading-text\">Loading deposits...</span>\n      </div>\n    );\n  }\n\n  return (\n    <div className={`cedros-admin-deposit-list ${className}`}>\n      <div className=\"cedros-admin-deposit-list-header\">\n        <h4 className=\"cedros-admin-deposit-list-title\">All Deposits</h4>\n        <button\n          type=\"button\"\n          className=\"cedros-admin__stats-bar-refresh\"\n          onClick={fetchDeposits}\n          disabled={isLoading}\n          title=\"Refresh deposits\"\n          aria-label=\"Refresh deposits\"\n        >\n          {isLoading ? '...' : '↻'}\n        </button>\n      </div>\n\n      {deposits.length === 0 ? (\n        <div className=\"cedros-admin-empty\">\n          <p className=\"cedros-admin-empty-message\">No deposits found.</p>\n        </div>\n      ) : (\n        <>\n          <div className=\"cedros-admin-deposit-table\">\n            <div className=\"cedros-admin-deposit-thead\">\n              <div className=\"cedros-admin-deposit-th\">\n                <button\n                  type=\"button\"\n                  className={`cedros-admin-sort-button ${sortField === 'userId' ? 'cedros-admin-sort-active' : ''}`}\n                  onClick={() => toggleSort('userId')}\n                  aria-label=\"Sort by user\"\n                >\n                  User{' '}\n                  <span className=\"cedros-admin-sort-icon\">\n                    {sortField === 'userId' ? (sortOrder === 'asc' ? '↑' : '↓') : '↕'}\n                  </span>\n                </button>\n              </div>\n              <div className=\"cedros-admin-deposit-th\">\n                <button\n                  type=\"button\"\n                  className={`cedros-admin-sort-button ${sortField === 'amountLamports' ? 'cedros-admin-sort-active' : ''}`}\n                  onClick={() => toggleSort('amountLamports')}\n                  aria-label=\"Sort by amount\"\n                >\n                  Amount{' '}\n                  <span className=\"cedros-admin-sort-icon\">\n                    {sortField === 'amountLamports' ? (sortOrder === 'asc' ? '↑' : '↓') : '↕'}\n                  </span>\n                </button>\n              </div>\n              <div className=\"cedros-admin-deposit-th\">\n                <button\n                  type=\"button\"\n                  className={`cedros-admin-sort-button ${sortField === 'status' ? 'cedros-admin-sort-active' : ''}`}\n                  onClick={() => toggleSort('status')}\n                  aria-label=\"Sort by status\"\n                >\n                  Status{' '}\n                  <span className=\"cedros-admin-sort-icon\">\n                    {sortField === 'status' ? (sortOrder === 'asc' ? '↑' : '↓') : '↕'}\n                  </span>\n                </button>\n              </div>\n              <div className=\"cedros-admin-deposit-th\">\n                <button\n                  type=\"button\"\n                  className={`cedros-admin-sort-button ${sortField === 'createdAt' ? 'cedros-admin-sort-active' : ''}`}\n                  onClick={() => toggleSort('createdAt')}\n                  aria-label=\"Sort by created\"\n                >\n                  Created{' '}\n                  <span className=\"cedros-admin-sort-icon\">\n                    {sortField === 'createdAt' ? (sortOrder === 'asc' ? '↑' : '↓') : '↕'}\n                  </span>\n                </button>\n              </div>\n              <div className=\"cedros-admin-deposit-th\">\n                <button\n                  type=\"button\"\n                  className={`cedros-admin-sort-button ${sortField === 'txSignature' ? 'cedros-admin-sort-active' : ''}`}\n                  onClick={() => toggleSort('txSignature')}\n                  aria-label=\"Sort by transaction\"\n                >\n                  Tx{' '}\n                  <span className=\"cedros-admin-sort-icon\">\n                    {sortField === 'txSignature' ? (sortOrder === 'asc' ? '↑' : '↓') : '↕'}\n                  </span>\n                </button>\n              </div>\n            </div>\n            {sortedDeposits.map((deposit) => (\n              <div\n                key={deposit.id}\n                className={`cedros-admin-deposit-row ${getStatusClass(deposit.status)}`}\n                onClick={() => onDepositClick?.(deposit)}\n                onKeyDown={(e) => {\n                  if (e.key === 'Enter' || e.key === ' ') {\n                    e.preventDefault();\n                    onDepositClick?.(deposit);\n                  }\n                }}\n                role={onDepositClick ? 'button' : undefined}\n                tabIndex={onDepositClick ? 0 : undefined}\n              >\n                <div className=\"cedros-admin-deposit-td\" title={deposit.userId}>\n                  {truncateId(deposit.userId)}\n                </div>\n                <div className=\"cedros-admin-deposit-td\">\n                  {formatAmount(deposit.amountLamports)}\n                </div>\n                <div className=\"cedros-admin-deposit-td\">\n                  <span className=\"cedros-admin-status-badge\">\n                    {getStatusLabel(deposit.status)}\n                  </span>\n                </div>\n                <div className=\"cedros-admin-deposit-td\">{formatDate(deposit.createdAt)}</div>\n                <div className=\"cedros-admin-deposit-td\" title={deposit.txSignature || undefined}>\n                  {deposit.txSignature ? truncateId(deposit.txSignature) : '—'}\n                </div>\n              </div>\n            ))}\n          </div>\n\n          {totalPages > 1 && (\n            <div className=\"cedros-admin-pagination\">\n              <button\n                type=\"button\"\n                className=\"cedros-button cedros-button-outline cedros-button-sm\"\n                onClick={() => goToPage(currentPage - 1)}\n                disabled={currentPage <= 1}\n              >\n                Previous\n              </button>\n              <span className=\"cedros-admin-page-info\">\n                Page {currentPage} of {totalPages} ({total} total)\n              </span>\n              <button\n                type=\"button\"\n                className=\"cedros-button cedros-button-outline cedros-button-sm\"\n                onClick={() => goToPage(currentPage + 1)}\n                disabled={currentPage >= totalPages}\n              >\n                Next\n              </button>\n            </div>\n          )}\n        </>\n      )}\n    </div>\n  );\n}\n"],"names":["AdminDepositStats","refreshInterval","refreshSignal","className","onLoad","getStats","isLoading","error","clearError","useAdminDeposits","stats","setStats","useState","loadError","setLoadError","fetchStats","useCallback","result","err","message","useEffect","interval","errorMessage","jsxs","jsx","StatsBar","getStatusLabel","status","getStatusClass","formatAmount","lamports","formatDate","dateString","truncateId","id","AdminDepositList","statusFilter","pageSize","onDepositClick","listDeposits","deposits","setDeposits","total","setTotal","offset","setOffset","sortField","setSortField","sortOrder","setSortOrder","toggleSort","field","sortedDeposits","useMemo","a","b","aVal","bVal","fetchDeposits","totalPages","currentPage","goToPage","page","newOffset","Fragment","deposit","e"],"mappings":"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"}
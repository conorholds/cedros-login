"use strict";const s=require("react/jsx-runtime"),x=require("react"),p=require("./LoadingSpinner-d6sSxgQN.cjs"),v=require("./ErrorMessage-CHbYbVi2.cjs"),r=require("./AutosaveStatus-CYkC2aI_.cjs");function S({title:c,description:g,categories:d,className:t=""}){const{settings:n,edits:u,isLoading:l,autosaveStatus:h,autosaveError:j,error:i,fetchSettings:a,handleChange:m}=r.useSettingsAutosave();x.useEffect(()=>{a()},[a]);const o=d.filter(e=>n[e]?.length>0);return l&&Object.keys(n).length===0?s.jsxs("div",{className:`cedros-system-settings cedros-system-settings-loading ${t}`,children:[s.jsx(p.LoadingSpinner,{}),s.jsx("span",{children:"Loading settings..."})]}):i?s.jsx("div",{className:`cedros-system-settings ${t}`,children:s.jsx(v.ErrorMessage,{error:i.message})}):s.jsxs("div",{className:`cedros-system-settings ${t}`,children:[s.jsxs("div",{className:"cedros-settings-page-header",children:[s.jsxs("div",{className:"cedros-settings-page-header-content",children:[s.jsx("h2",{className:"cedros-settings-page-title",children:c}),s.jsx("p",{className:"cedros-settings-page-description",children:g})]}),s.jsx(r.AutosaveStatus,{status:h,error:j})]}),o.length===0?s.jsx("div",{className:"cedros-system-settings-empty",children:s.jsx("p",{children:"No settings found for this section."})}):o.map(e=>s.jsx(r.SettingsSection,{settings:n[e],edits:u,onChange:m},e))]})}exports.SettingsPageLayout=S;

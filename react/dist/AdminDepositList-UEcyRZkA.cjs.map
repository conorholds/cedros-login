{"version":3,"file":"AdminDepositList-UEcyRZkA.cjs","sources":["../src/components/deposit/admin/AdminDepositStats.tsx","../src/components/deposit/admin/AdminDepositList.tsx"],"sourcesContent":["/**\n * Admin deposit statistics component\n *\n * Shows aggregate statistics for Privacy Cash deposits.\n * Requires system admin privileges.\n */\n\nimport { useState, useEffect, useCallback } from 'react';\nimport { useAdminDeposits } from '../../../hooks/useAdminDeposits';\nimport type { AdminDepositStatsResponse } from '../../../types/deposit';\nimport { FeatureDisabledMessage } from './FeatureDisabledMessage';\nimport { isFeatureDisabledError } from './featureDisabled';\nimport { StatsBar } from '../../admin/StatsBar';\n\nexport interface AdminDepositStatsProps {\n  /** Auto-refresh interval in milliseconds (0 to disable) */\n  refreshInterval?: number;\n  /** Additional CSS classes */\n  className?: string;\n  /** Callback when stats are loaded */\n  onLoad?: (stats: AdminDepositStatsResponse) => void;\n}\n\n/**\n * Admin deposit statistics display\n *\n * Shows total deposits, withdrawals, and pending amounts.\n */\nexport function AdminDepositStats({\n  refreshInterval = 0,\n  className = '',\n  onLoad,\n}: AdminDepositStatsProps) {\n  const { getStats, isLoading, error, clearError } = useAdminDeposits();\n\n  const [stats, setStats] = useState<AdminDepositStatsResponse | null>(null);\n  const [loadError, setLoadError] = useState<string | null>(null);\n\n  const fetchStats = useCallback(async () => {\n    try {\n      const result = await getStats();\n      setStats(result);\n      onLoad?.(result);\n      setLoadError(null);\n    } catch (err) {\n      const message =\n        err && typeof err === 'object' && 'message' in err\n          ? String((err as { message: unknown }).message)\n          : 'Failed to load stats';\n      setLoadError(message);\n    }\n  }, [getStats, onLoad]);\n\n  // Fetch on mount\n  useEffect(() => {\n    fetchStats();\n  }, [fetchStats]);\n\n  // Auto-refresh\n  useEffect(() => {\n    if (refreshInterval <= 0) return;\n\n    const interval = setInterval(fetchStats, refreshInterval);\n    return () => clearInterval(interval);\n  }, [refreshInterval, fetchStats]);\n\n  // Feature disabled state\n  const errorMessage = loadError || error;\n  if (isFeatureDisabledError(errorMessage)) {\n    return <FeatureDisabledMessage feature=\"Privacy Cash\" className={className} />;\n  }\n\n  // Error state\n  if (errorMessage) {\n    return (\n      <div className={`cedros-admin-stats cedros-admin-stats-error ${className}`}>\n        <p className=\"cedros-admin-error\">{errorMessage}</p>\n        <button\n          type=\"button\"\n          className=\"cedros-button cedros-button-outline\"\n          onClick={() => {\n            clearError();\n            setLoadError(null);\n            fetchStats();\n          }}\n        >\n          Retry\n        </button>\n      </div>\n    );\n  }\n\n  // Loading state\n  if (isLoading && !stats) {\n    return (\n      <div className={`cedros-admin-stats cedros-admin-stats-loading ${className}`}>\n        <span className=\"cedros-admin-loading-indicator\" />\n        <span className=\"cedros-admin-loading-text\">Loading statistics...</span>\n      </div>\n    );\n  }\n\n  if (!stats) {\n    return null;\n  }\n\n  return (\n    <div className={`cedros-admin-stats ${className}`}>\n      <StatsBar\n        stats={[\n          { label: 'Total Deposits', value: stats.totalDeposits },\n          { label: 'Private Deposits', value: stats.inPrivacyPeriodCount ?? 0 },\n          { label: 'Standard Deposits', value: stats.readyForWithdrawalCount ?? 0 },\n          { label: 'Microdeposits', value: stats.nativeSolDepositCount ?? 0 },\n        ]}\n        isLoading={isLoading}\n        onRefresh={fetchStats}\n      />\n    </div>\n  );\n}\n","/**\n * Admin deposit list component\n *\n * Shows a paginated list of all deposits across all users.\n * Requires system admin privileges.\n */\n\nimport { useState, useEffect, useCallback, useMemo } from 'react';\nimport { useAdminDeposits } from '../../../hooks/useAdminDeposits';\nimport type { AdminDepositItem, AdminDepositListResponse } from '../../../types/deposit';\nimport { FeatureDisabledMessage } from './FeatureDisabledMessage';\nimport { isFeatureDisabledError } from './featureDisabled';\n\ntype DepositSortField = 'userId' | 'amountLamports' | 'status' | 'createdAt' | 'txSignature';\ntype SortOrder = 'asc' | 'desc';\n\nexport interface AdminDepositListProps {\n  /** Filter by status (comma-separated) */\n  statusFilter?: string;\n  /** Number of items per page (default: 20) */\n  pageSize?: number;\n  /** Auto-refresh interval in milliseconds (0 to disable) */\n  refreshInterval?: number;\n  /** Additional CSS classes */\n  className?: string;\n  /** Callback when list is loaded */\n  onLoad?: (response: AdminDepositListResponse) => void;\n  /** Callback when a deposit is clicked */\n  onDepositClick?: (deposit: AdminDepositItem) => void;\n}\n\ntype DepositStatusType =\n  | 'pending'\n  | 'detected'\n  | 'processing'\n  | 'completed'\n  | 'withdrawn'\n  | 'partially_withdrawn'\n  | 'expired'\n  | 'failed';\n\nfunction getStatusLabel(status: DepositStatusType): string {\n  const labels: Record<DepositStatusType, string> = {\n    pending: 'Pending',\n    detected: 'Detected',\n    processing: 'Processing',\n    completed: 'Completed',\n    withdrawn: 'Withdrawn',\n    partially_withdrawn: 'Partially Withdrawn',\n    expired: 'Expired',\n    failed: 'Failed',\n  };\n  return labels[status] || status;\n}\n\nfunction getStatusClass(status: DepositStatusType): string {\n  if (status === 'completed' || status === 'withdrawn' || status === 'partially_withdrawn') {\n    return 'cedros-admin-deposit-success';\n  }\n  if (status === 'failed' || status === 'expired') return 'cedros-admin-deposit-error';\n  if (status === 'processing' || status === 'detected') return 'cedros-admin-deposit-processing';\n  return 'cedros-admin-deposit-pending';\n}\n\nfunction formatAmount(lamports: number | null): string {\n  if (lamports === null || lamports === undefined) return '—';\n  const solAmount = lamports / 1_000_000_000;\n  return `${solAmount.toFixed(4)} SOL`;\n}\n\nfunction formatDate(dateString: string): string {\n  const date = new Date(dateString);\n  return date.toLocaleDateString(undefined, {\n    year: 'numeric',\n    month: 'short',\n    day: 'numeric',\n    hour: '2-digit',\n    minute: '2-digit',\n  });\n}\n\nfunction truncateId(id: string): string {\n  if (id.length <= 12) return id;\n  return `${id.slice(0, 6)}...${id.slice(-4)}`;\n}\n\n/**\n * Admin deposit list display\n *\n * Shows paginated list of all deposits with user info.\n */\nexport function AdminDepositList({\n  statusFilter,\n  pageSize = 20,\n  refreshInterval = 0,\n  className = '',\n  onLoad,\n  onDepositClick,\n}: AdminDepositListProps) {\n  const { listDeposits, isLoading, error, clearError } = useAdminDeposits();\n\n  const [deposits, setDeposits] = useState<AdminDepositItem[]>([]);\n  const [total, setTotal] = useState(0);\n  const [offset, setOffset] = useState(0);\n  const [loadError, setLoadError] = useState<string | null>(null);\n  const [sortField, setSortField] = useState<DepositSortField>('createdAt');\n  const [sortOrder, setSortOrder] = useState<SortOrder>('desc');\n\n  const toggleSort = (field: DepositSortField) => {\n    if (sortField === field) {\n      setSortOrder(sortOrder === 'asc' ? 'desc' : 'asc');\n    } else {\n      setSortField(field);\n      setSortOrder('desc');\n    }\n  };\n\n  const sortedDeposits = useMemo(() => {\n    return [...deposits].sort((a, b) => {\n      let aVal: string | number | null;\n      let bVal: string | number | null;\n\n      switch (sortField) {\n        case 'userId':\n          aVal = a.userId.toLowerCase();\n          bVal = b.userId.toLowerCase();\n          break;\n        case 'amountLamports':\n          aVal = a.amountLamports ?? 0;\n          bVal = b.amountLamports ?? 0;\n          break;\n        case 'status':\n          aVal = a.status;\n          bVal = b.status;\n          break;\n        case 'createdAt':\n          aVal = new Date(a.createdAt).getTime();\n          bVal = new Date(b.createdAt).getTime();\n          break;\n        case 'txSignature':\n          aVal = a.txSignature || '';\n          bVal = b.txSignature || '';\n          break;\n        default:\n          return 0;\n      }\n\n      if (aVal < bVal) return sortOrder === 'asc' ? -1 : 1;\n      if (aVal > bVal) return sortOrder === 'asc' ? 1 : -1;\n      return 0;\n    });\n  }, [deposits, sortField, sortOrder]);\n\n  const fetchDeposits = useCallback(async () => {\n    try {\n      const result = await listDeposits({ status: statusFilter, limit: pageSize, offset });\n      setDeposits(result.deposits);\n      setTotal(result.total);\n      onLoad?.(result);\n      setLoadError(null);\n    } catch (err) {\n      const message =\n        err && typeof err === 'object' && 'message' in err\n          ? String((err as { message: unknown }).message)\n          : 'Failed to load deposits';\n      setLoadError(message);\n    }\n  }, [statusFilter, pageSize, offset, listDeposits, onLoad]);\n\n  // Reset offset when filters change\n  useEffect(() => {\n    setOffset(0);\n  }, [statusFilter, pageSize]);\n\n  // Fetch on mount and when dependencies change\n  useEffect(() => {\n    fetchDeposits();\n  }, [fetchDeposits]);\n\n  // Auto-refresh\n  useEffect(() => {\n    if (refreshInterval <= 0) return;\n\n    const interval = setInterval(fetchDeposits, refreshInterval);\n    return () => clearInterval(interval);\n  }, [refreshInterval, fetchDeposits]);\n\n  const totalPages = Math.ceil(total / pageSize);\n  const currentPage = Math.floor(offset / pageSize) + 1;\n\n  const goToPage = (page: number) => {\n    const newOffset = (page - 1) * pageSize;\n    setOffset(Math.max(0, Math.min(newOffset, Math.max(0, total - 1))));\n  };\n\n  // Feature disabled state\n  const errorMessage = loadError || error;\n  if (isFeatureDisabledError(errorMessage)) {\n    return <FeatureDisabledMessage feature=\"Privacy Cash\" className={className} />;\n  }\n\n  // Error state\n  if (errorMessage) {\n    return (\n      <div className={`cedros-admin-deposit-list cedros-admin-deposit-list-error ${className}`}>\n        <p className=\"cedros-admin-error\">{errorMessage}</p>\n        <button\n          type=\"button\"\n          className=\"cedros-button cedros-button-outline\"\n          onClick={() => {\n            clearError();\n            setLoadError(null);\n            fetchDeposits();\n          }}\n        >\n          Retry\n        </button>\n      </div>\n    );\n  }\n\n  // Loading state (initial load only)\n  if (isLoading && deposits.length === 0) {\n    return (\n      <div className={`cedros-admin-deposit-list cedros-admin-deposit-list-loading ${className}`}>\n        <span className=\"cedros-admin-loading-indicator\" />\n        <span className=\"cedros-admin-loading-text\">Loading deposits...</span>\n      </div>\n    );\n  }\n\n  return (\n    <div className={`cedros-admin-deposit-list ${className}`}>\n      <div className=\"cedros-admin-deposit-list-header\">\n        <h4 className=\"cedros-admin-deposit-list-title\">All Deposits</h4>\n        <button\n          type=\"button\"\n          className=\"cedros-admin__stats-bar-refresh\"\n          onClick={fetchDeposits}\n          disabled={isLoading}\n          title=\"Refresh deposits\"\n          aria-label=\"Refresh deposits\"\n        >\n          {isLoading ? '...' : '↻'}\n        </button>\n      </div>\n\n      {deposits.length === 0 ? (\n        <div className=\"cedros-admin-empty\">\n          <p className=\"cedros-admin-empty-message\">No deposits found.</p>\n        </div>\n      ) : (\n        <>\n          <div className=\"cedros-admin-deposit-table\">\n            <div className=\"cedros-admin-deposit-thead\">\n              <div className=\"cedros-admin-deposit-th\">\n                <button\n                  type=\"button\"\n                  className={`cedros-admin-sort-button ${sortField === 'userId' ? 'cedros-admin-sort-active' : ''}`}\n                  onClick={() => toggleSort('userId')}\n                  aria-label=\"Sort by user\"\n                >\n                  User{' '}\n                  <span className=\"cedros-admin-sort-icon\">\n                    {sortField === 'userId' ? (sortOrder === 'asc' ? '↑' : '↓') : '↕'}\n                  </span>\n                </button>\n              </div>\n              <div className=\"cedros-admin-deposit-th\">\n                <button\n                  type=\"button\"\n                  className={`cedros-admin-sort-button ${sortField === 'amountLamports' ? 'cedros-admin-sort-active' : ''}`}\n                  onClick={() => toggleSort('amountLamports')}\n                  aria-label=\"Sort by amount\"\n                >\n                  Amount{' '}\n                  <span className=\"cedros-admin-sort-icon\">\n                    {sortField === 'amountLamports' ? (sortOrder === 'asc' ? '↑' : '↓') : '↕'}\n                  </span>\n                </button>\n              </div>\n              <div className=\"cedros-admin-deposit-th\">\n                <button\n                  type=\"button\"\n                  className={`cedros-admin-sort-button ${sortField === 'status' ? 'cedros-admin-sort-active' : ''}`}\n                  onClick={() => toggleSort('status')}\n                  aria-label=\"Sort by status\"\n                >\n                  Status{' '}\n                  <span className=\"cedros-admin-sort-icon\">\n                    {sortField === 'status' ? (sortOrder === 'asc' ? '↑' : '↓') : '↕'}\n                  </span>\n                </button>\n              </div>\n              <div className=\"cedros-admin-deposit-th\">\n                <button\n                  type=\"button\"\n                  className={`cedros-admin-sort-button ${sortField === 'createdAt' ? 'cedros-admin-sort-active' : ''}`}\n                  onClick={() => toggleSort('createdAt')}\n                  aria-label=\"Sort by created\"\n                >\n                  Created{' '}\n                  <span className=\"cedros-admin-sort-icon\">\n                    {sortField === 'createdAt' ? (sortOrder === 'asc' ? '↑' : '↓') : '↕'}\n                  </span>\n                </button>\n              </div>\n              <div className=\"cedros-admin-deposit-th\">\n                <button\n                  type=\"button\"\n                  className={`cedros-admin-sort-button ${sortField === 'txSignature' ? 'cedros-admin-sort-active' : ''}`}\n                  onClick={() => toggleSort('txSignature')}\n                  aria-label=\"Sort by transaction\"\n                >\n                  Tx{' '}\n                  <span className=\"cedros-admin-sort-icon\">\n                    {sortField === 'txSignature' ? (sortOrder === 'asc' ? '↑' : '↓') : '↕'}\n                  </span>\n                </button>\n              </div>\n            </div>\n            {sortedDeposits.map((deposit) => (\n              <div\n                key={deposit.id}\n                className={`cedros-admin-deposit-row ${getStatusClass(deposit.status)}`}\n                onClick={() => onDepositClick?.(deposit)}\n                onKeyDown={(e) => {\n                  if (e.key === 'Enter' || e.key === ' ') {\n                    e.preventDefault();\n                    onDepositClick?.(deposit);\n                  }\n                }}\n                role={onDepositClick ? 'button' : undefined}\n                tabIndex={onDepositClick ? 0 : undefined}\n              >\n                <div className=\"cedros-admin-deposit-td\" title={deposit.userId}>\n                  {truncateId(deposit.userId)}\n                </div>\n                <div className=\"cedros-admin-deposit-td\">\n                  {formatAmount(deposit.amountLamports)}\n                </div>\n                <div className=\"cedros-admin-deposit-td\">\n                  <span className=\"cedros-admin-status-badge\">\n                    {getStatusLabel(deposit.status)}\n                  </span>\n                </div>\n                <div className=\"cedros-admin-deposit-td\">{formatDate(deposit.createdAt)}</div>\n                <div className=\"cedros-admin-deposit-td\" title={deposit.txSignature || undefined}>\n                  {deposit.txSignature ? truncateId(deposit.txSignature) : '—'}\n                </div>\n              </div>\n            ))}\n          </div>\n\n          {totalPages > 1 && (\n            <div className=\"cedros-admin-pagination\">\n              <button\n                type=\"button\"\n                className=\"cedros-button cedros-button-outline cedros-button-sm\"\n                onClick={() => goToPage(currentPage - 1)}\n                disabled={currentPage <= 1}\n              >\n                Previous\n              </button>\n              <span className=\"cedros-admin-page-info\">\n                Page {currentPage} of {totalPages} ({total} total)\n              </span>\n              <button\n                type=\"button\"\n                className=\"cedros-button cedros-button-outline cedros-button-sm\"\n                onClick={() => goToPage(currentPage + 1)}\n                disabled={currentPage >= totalPages}\n              >\n                Next\n              </button>\n            </div>\n          )}\n        </>\n      )}\n    </div>\n  );\n}\n"],"names":["AdminDepositStats","refreshInterval","className","onLoad","getStats","isLoading","error","clearError","useAdminDeposits","stats","setStats","useState","loadError","setLoadError","fetchStats","useCallback","result","err","message","useEffect","interval","errorMessage","jsxs","jsx","StatsBar","getStatusLabel","status","getStatusClass","formatAmount","lamports","formatDate","dateString","truncateId","id","AdminDepositList","statusFilter","pageSize","onDepositClick","listDeposits","deposits","setDeposits","total","setTotal","offset","setOffset","sortField","setSortField","sortOrder","setSortOrder","toggleSort","field","sortedDeposits","useMemo","a","b","aVal","bVal","fetchDeposits","totalPages","currentPage","goToPage","page","newOffset","Fragment","deposit","e"],"mappings":"uJA4BO,SAASA,EAAkB,CAChC,gBAAAC,EAAkB,EAClB,UAAAC,EAAY,GACZ,OAAAC,CACF,EAA2B,CACzB,KAAM,CAAE,SAAAC,EAAU,UAAAC,EAAW,MAAAC,EAAO,WAAAC,CAAA,EAAeC,EAAAA,iBAAA,EAE7C,CAACC,EAAOC,CAAQ,EAAIC,EAAAA,SAA2C,IAAI,EACnE,CAACC,EAAWC,CAAY,EAAIF,EAAAA,SAAwB,IAAI,EAExDG,EAAaC,EAAAA,YAAY,SAAY,CACzC,GAAI,CACF,MAAMC,EAAS,MAAMZ,EAAA,EACrBM,EAASM,CAAM,EACfb,IAASa,CAAM,EACfH,EAAa,IAAI,CACnB,OAASI,EAAK,CACZ,MAAMC,EACJD,GAAO,OAAOA,GAAQ,UAAY,YAAaA,EAC3C,OAAQA,EAA6B,OAAO,EAC5C,uBACNJ,EAAaK,CAAO,CACtB,CACF,EAAG,CAACd,EAAUD,CAAM,CAAC,EAGrBgB,EAAAA,UAAU,IAAM,CACdL,EAAA,CACF,EAAG,CAACA,CAAU,CAAC,EAGfK,EAAAA,UAAU,IAAM,CACd,GAAIlB,GAAmB,EAAG,OAE1B,MAAMmB,EAAW,YAAYN,EAAYb,CAAe,EACxD,MAAO,IAAM,cAAcmB,CAAQ,CACrC,EAAG,CAACnB,EAAiBa,CAAU,CAAC,EAGhC,MAAMO,EAAeT,GAAaN,EAMlC,OAAIe,EAEAC,EAAAA,KAAC,MAAA,CAAI,UAAW,+CAA+CpB,CAAS,GACtE,SAAA,CAAAqB,EAAAA,IAAC,IAAA,CAAE,UAAU,qBAAsB,SAAAF,EAAa,EAChDE,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,UAAU,sCACV,QAAS,IAAM,CACbhB,EAAA,EACAM,EAAa,IAAI,EACjBC,EAAA,CACF,EACD,SAAA,OAAA,CAAA,CAED,EACF,EAKAT,GAAa,CAACI,EAEda,EAAAA,KAAC,MAAA,CAAI,UAAW,iDAAiDpB,CAAS,GACxE,SAAA,CAAAqB,EAAAA,IAAC,OAAA,CAAK,UAAU,gCAAA,CAAiC,EACjDA,EAAAA,IAAC,OAAA,CAAK,UAAU,4BAA4B,SAAA,uBAAA,CAAqB,CAAA,EACnE,EAICd,EAKHc,EAAAA,IAAC,MAAA,CAAI,UAAW,sBAAsBrB,CAAS,GAC7C,SAAAqB,EAAAA,IAACC,EAAAA,SAAA,CACC,MAAO,CACL,CAAE,MAAO,iBAAkB,MAAOf,EAAM,aAAA,EACxC,CAAE,MAAO,mBAAoB,MAAOA,EAAM,sBAAwB,CAAA,EAClE,CAAE,MAAO,oBAAqB,MAAOA,EAAM,yBAA2B,CAAA,EACtE,CAAE,MAAO,gBAAiB,MAAOA,EAAM,uBAAyB,CAAA,CAAE,EAEpE,UAAAJ,EACA,UAAWS,CAAA,CAAA,EAEf,EAfO,IAiBX,CC/EA,SAASW,EAAeC,EAAmC,CAWzD,MAVkD,CAChD,QAAS,UACT,SAAU,WACV,WAAY,aACZ,UAAW,YACX,UAAW,YACX,oBAAqB,sBACrB,QAAS,UACT,OAAQ,QAAA,EAEIA,CAAM,GAAKA,CAC3B,CAEA,SAASC,EAAeD,EAAmC,CACzD,OAAIA,IAAW,aAAeA,IAAW,aAAeA,IAAW,sBAC1D,+BAELA,IAAW,UAAYA,IAAW,UAAkB,6BACpDA,IAAW,cAAgBA,IAAW,WAAmB,kCACtD,8BACT,CAEA,SAASE,EAAaC,EAAiC,CACrD,OAAIA,GAAa,KAAuC,IAEjD,IADWA,EAAW,KACT,QAAQ,CAAC,CAAC,MAChC,CAEA,SAASC,EAAWC,EAA4B,CAE9C,OADa,IAAI,KAAKA,CAAU,EACpB,mBAAmB,OAAW,CACxC,KAAM,UACN,MAAO,QACP,IAAK,UACL,KAAM,UACN,OAAQ,SAAA,CACT,CACH,CAEA,SAASC,EAAWC,EAAoB,CACtC,OAAIA,EAAG,QAAU,GAAWA,EACrB,GAAGA,EAAG,MAAM,EAAG,CAAC,CAAC,MAAMA,EAAG,MAAM,EAAE,CAAC,EAC5C,CAOO,SAASC,EAAiB,CAC/B,aAAAC,EACA,SAAAC,EAAW,GACX,gBAAAnC,EAAkB,EAClB,UAAAC,EAAY,GACZ,OAAAC,EACA,eAAAkC,CACF,EAA0B,CACxB,KAAM,CAAE,aAAAC,EAAc,UAAAjC,EAAW,MAAAC,EAAO,WAAAC,CAAA,EAAeC,EAAAA,iBAAA,EAEjD,CAAC+B,EAAUC,CAAW,EAAI7B,EAAAA,SAA6B,CAAA,CAAE,EACzD,CAAC8B,EAAOC,CAAQ,EAAI/B,EAAAA,SAAS,CAAC,EAC9B,CAACgC,EAAQC,CAAS,EAAIjC,EAAAA,SAAS,CAAC,EAChC,CAACC,EAAWC,CAAY,EAAIF,EAAAA,SAAwB,IAAI,EACxD,CAACkC,EAAWC,CAAY,EAAInC,EAAAA,SAA2B,WAAW,EAClE,CAACoC,EAAWC,CAAY,EAAIrC,EAAAA,SAAoB,MAAM,EAEtDsC,EAAcC,GAA4B,CAC1CL,IAAcK,EAChBF,EAAaD,IAAc,MAAQ,OAAS,KAAK,GAEjDD,EAAaI,CAAK,EAClBF,EAAa,MAAM,EAEvB,EAEMG,EAAiBC,EAAAA,QAAQ,IACtB,CAAC,GAAGb,CAAQ,EAAE,KAAK,CAACc,EAAGC,IAAM,CAClC,IAAIC,EACAC,EAEJ,OAAQX,EAAA,CACN,IAAK,SACHU,EAAOF,EAAE,OAAO,YAAA,EAChBG,EAAOF,EAAE,OAAO,YAAA,EAChB,MACF,IAAK,iBACHC,EAAOF,EAAE,gBAAkB,EAC3BG,EAAOF,EAAE,gBAAkB,EAC3B,MACF,IAAK,SACHC,EAAOF,EAAE,OACTG,EAAOF,EAAE,OACT,MACF,IAAK,YACHC,EAAO,IAAI,KAAKF,EAAE,SAAS,EAAE,QAAA,EAC7BG,EAAO,IAAI,KAAKF,EAAE,SAAS,EAAE,QAAA,EAC7B,MACF,IAAK,cACHC,EAAOF,EAAE,aAAe,GACxBG,EAAOF,EAAE,aAAe,GACxB,MACF,QACE,MAAO,EAAA,CAGX,OAAIC,EAAOC,EAAaT,IAAc,MAAQ,GAAK,EAC/CQ,EAAOC,EAAaT,IAAc,MAAQ,EAAI,GAC3C,CACT,CAAC,EACA,CAACR,EAAUM,EAAWE,CAAS,CAAC,EAE7BU,EAAgB1C,EAAAA,YAAY,SAAY,CAC5C,GAAI,CACF,MAAMC,EAAS,MAAMsB,EAAa,CAAE,OAAQH,EAAc,MAAOC,EAAU,OAAAO,EAAQ,EACnFH,EAAYxB,EAAO,QAAQ,EAC3B0B,EAAS1B,EAAO,KAAK,EACrBb,IAASa,CAAM,EACfH,EAAa,IAAI,CACnB,OAASI,EAAK,CACZ,MAAMC,EACJD,GAAO,OAAOA,GAAQ,UAAY,YAAaA,EAC3C,OAAQA,EAA6B,OAAO,EAC5C,0BACNJ,EAAaK,CAAO,CACtB,CACF,EAAG,CAACiB,EAAcC,EAAUO,EAAQL,EAAcnC,CAAM,CAAC,EAGzDgB,EAAAA,UAAU,IAAM,CACdyB,EAAU,CAAC,CACb,EAAG,CAACT,EAAcC,CAAQ,CAAC,EAG3BjB,EAAAA,UAAU,IAAM,CACdsC,EAAA,CACF,EAAG,CAACA,CAAa,CAAC,EAGlBtC,EAAAA,UAAU,IAAM,CACd,GAAIlB,GAAmB,EAAG,OAE1B,MAAMmB,EAAW,YAAYqC,EAAexD,CAAe,EAC3D,MAAO,IAAM,cAAcmB,CAAQ,CACrC,EAAG,CAACnB,EAAiBwD,CAAa,CAAC,EAEnC,MAAMC,EAAa,KAAK,KAAKjB,EAAQL,CAAQ,EACvCuB,EAAc,KAAK,MAAMhB,EAASP,CAAQ,EAAI,EAE9CwB,EAAYC,GAAiB,CACjC,MAAMC,GAAaD,EAAO,GAAKzB,EAC/BQ,EAAU,KAAK,IAAI,EAAG,KAAK,IAAIkB,EAAW,KAAK,IAAI,EAAGrB,EAAQ,CAAC,CAAC,CAAC,CAAC,CACpE,EAGMpB,EAAeT,GAAaN,EAMlC,OAAIe,EAEAC,EAAAA,KAAC,MAAA,CAAI,UAAW,6DAA6DpB,CAAS,GACpF,SAAA,CAAAqB,EAAAA,IAAC,IAAA,CAAE,UAAU,qBAAsB,SAAAF,EAAa,EAChDE,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,UAAU,sCACV,QAAS,IAAM,CACbhB,EAAA,EACAM,EAAa,IAAI,EACjB4C,EAAA,CACF,EACD,SAAA,OAAA,CAAA,CAED,EACF,EAKApD,GAAakC,EAAS,SAAW,EAEjCjB,EAAAA,KAAC,MAAA,CAAI,UAAW,+DAA+DpB,CAAS,GACtF,SAAA,CAAAqB,EAAAA,IAAC,OAAA,CAAK,UAAU,gCAAA,CAAiC,EACjDA,EAAAA,IAAC,OAAA,CAAK,UAAU,4BAA4B,SAAA,qBAAA,CAAmB,CAAA,EACjE,EAKFD,EAAAA,KAAC,MAAA,CAAI,UAAW,6BAA6BpB,CAAS,GACpD,SAAA,CAAAoB,EAAAA,KAAC,MAAA,CAAI,UAAU,mCACb,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,kCAAkC,SAAA,eAAY,EAC5DA,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,UAAU,kCACV,QAASkC,EACT,SAAUpD,EACV,MAAM,mBACN,aAAW,mBAEV,WAAY,MAAQ,GAAA,CAAA,CACvB,EACF,EAECkC,EAAS,SAAW,EACnBhB,MAAC,OAAI,UAAU,qBACb,SAAAA,MAAC,IAAA,CAAE,UAAU,6BAA6B,SAAA,oBAAA,CAAkB,CAAA,CAC9D,EAEAD,EAAAA,KAAAyC,WAAA,CACE,SAAA,CAAAzC,EAAAA,KAAC,MAAA,CAAI,UAAU,6BACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,6BACb,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAI,UAAU,0BACb,SAAAD,EAAAA,KAAC,SAAA,CACC,KAAK,SACL,UAAW,4BAA4BuB,IAAc,SAAW,2BAA6B,EAAE,GAC/F,QAAS,IAAMI,EAAW,QAAQ,EAClC,aAAW,eACZ,SAAA,CAAA,OACM,IACL1B,EAAAA,IAAC,OAAA,CAAK,UAAU,yBACb,SAAAsB,IAAc,SAAYE,IAAc,MAAQ,IAAM,IAAO,GAAA,CAChE,CAAA,CAAA,CAAA,EAEJ,EACAxB,EAAAA,IAAC,MAAA,CAAI,UAAU,0BACb,SAAAD,EAAAA,KAAC,SAAA,CACC,KAAK,SACL,UAAW,4BAA4BuB,IAAc,iBAAmB,2BAA6B,EAAE,GACvG,QAAS,IAAMI,EAAW,gBAAgB,EAC1C,aAAW,iBACZ,SAAA,CAAA,SACQ,IACP1B,EAAAA,IAAC,OAAA,CAAK,UAAU,yBACb,SAAAsB,IAAc,iBAAoBE,IAAc,MAAQ,IAAM,IAAO,GAAA,CACxE,CAAA,CAAA,CAAA,EAEJ,EACAxB,EAAAA,IAAC,MAAA,CAAI,UAAU,0BACb,SAAAD,EAAAA,KAAC,SAAA,CACC,KAAK,SACL,UAAW,4BAA4BuB,IAAc,SAAW,2BAA6B,EAAE,GAC/F,QAAS,IAAMI,EAAW,QAAQ,EAClC,aAAW,iBACZ,SAAA,CAAA,SACQ,IACP1B,EAAAA,IAAC,OAAA,CAAK,UAAU,yBACb,SAAAsB,IAAc,SAAYE,IAAc,MAAQ,IAAM,IAAO,GAAA,CAChE,CAAA,CAAA,CAAA,EAEJ,EACAxB,EAAAA,IAAC,MAAA,CAAI,UAAU,0BACb,SAAAD,EAAAA,KAAC,SAAA,CACC,KAAK,SACL,UAAW,4BAA4BuB,IAAc,YAAc,2BAA6B,EAAE,GAClG,QAAS,IAAMI,EAAW,WAAW,EACrC,aAAW,kBACZ,SAAA,CAAA,UACS,IACR1B,EAAAA,IAAC,OAAA,CAAK,UAAU,yBACb,SAAAsB,IAAc,YAAeE,IAAc,MAAQ,IAAM,IAAO,GAAA,CACnE,CAAA,CAAA,CAAA,EAEJ,EACAxB,EAAAA,IAAC,MAAA,CAAI,UAAU,0BACb,SAAAD,EAAAA,KAAC,SAAA,CACC,KAAK,SACL,UAAW,4BAA4BuB,IAAc,cAAgB,2BAA6B,EAAE,GACpG,QAAS,IAAMI,EAAW,aAAa,EACvC,aAAW,sBACZ,SAAA,CAAA,KACI,IACH1B,EAAAA,IAAC,OAAA,CAAK,UAAU,yBACb,SAAAsB,IAAc,cAAiBE,IAAc,MAAQ,IAAM,IAAO,GAAA,CACrE,CAAA,CAAA,CAAA,CACF,CACF,CAAA,EACF,EACCI,EAAe,IAAKa,GACnB1C,EAAAA,KAAC,MAAA,CAEC,UAAW,4BAA4BK,EAAeqC,EAAQ,MAAM,CAAC,GACrE,QAAS,IAAM3B,IAAiB2B,CAAO,EACvC,UAAYC,GAAM,EACZA,EAAE,MAAQ,SAAWA,EAAE,MAAQ,OACjCA,EAAE,eAAA,EACF5B,IAAiB2B,CAAO,EAE5B,EACA,KAAM3B,EAAiB,SAAW,OAClC,SAAUA,EAAiB,EAAI,OAE/B,SAAA,CAAAd,EAAAA,IAAC,MAAA,CAAI,UAAU,0BAA0B,MAAOyC,EAAQ,OACrD,SAAAhC,EAAWgC,EAAQ,MAAM,CAAA,CAC5B,QACC,MAAA,CAAI,UAAU,0BACZ,SAAApC,EAAaoC,EAAQ,cAAc,EACtC,EACAzC,EAAAA,IAAC,MAAA,CAAI,UAAU,0BACb,SAAAA,EAAAA,IAAC,OAAA,CAAK,UAAU,4BACb,SAAAE,EAAeuC,EAAQ,MAAM,CAAA,CAChC,EACF,QACC,MAAA,CAAI,UAAU,0BAA2B,SAAAlC,EAAWkC,EAAQ,SAAS,EAAE,EACxEzC,EAAAA,IAAC,MAAA,CAAI,UAAU,0BAA0B,MAAOyC,EAAQ,aAAe,OACpE,SAAAA,EAAQ,YAAchC,EAAWgC,EAAQ,WAAW,EAAI,GAAA,CAC3D,CAAA,CAAA,EA1BKA,EAAQ,EAAA,CA4BhB,CAAA,EACH,EAECN,EAAa,GACZpC,OAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAC,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,UAAU,uDACV,QAAS,IAAMqC,EAASD,EAAc,CAAC,EACvC,SAAUA,GAAe,EAC1B,SAAA,UAAA,CAAA,EAGDrC,EAAAA,KAAC,OAAA,CAAK,UAAU,yBAAyB,SAAA,CAAA,QACjCqC,EAAY,OAAKD,EAAW,KAAGjB,EAAM,SAAA,EAC7C,EACAlB,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,UAAU,uDACV,QAAS,IAAMqC,EAASD,EAAc,CAAC,EACvC,SAAUA,GAAeD,EAC1B,SAAA,MAAA,CAAA,CAED,CAAA,CACF,CAAA,CAAA,CAEJ,CAAA,EAEJ,CAEJ"}
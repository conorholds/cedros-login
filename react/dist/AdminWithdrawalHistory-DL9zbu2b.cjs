"use strict";const e=require("react/jsx-runtime"),a=require("react"),U=require("./useAdminDeposits-BkkCwHWp.cjs"),J=require("./StatsBar-DTUZCwDD.cjs");function se({refreshInterval:s=0,refreshSignal:o,className:h="",onLoad:w}){const{getStats:b,isLoading:i,error:v,clearError:p}=U.useAdminDeposits(),[g,q]=a.useState(null),[N,A]=a.useState(null),u=a.useCallback(async()=>{try{const d=await b();q(d),w?.(d),A(null)}catch(d){const k=d&&typeof d=="object"&&"message"in d?String(d.message):"Failed to load stats";A(k)}},[b,w]);a.useEffect(()=>{u()},[u]),a.useEffect(()=>{o!==void 0&&u()},[o,u]),a.useEffect(()=>{if(o!==void 0||s<=0)return;const d=setInterval(u,s);return()=>clearInterval(d)},[s,o,u]);const C=N||v;return C?e.jsxs("div",{className:`cedros-admin-stats ${h}`,children:[e.jsx("p",{className:"cedros-admin-error",children:C}),e.jsx("button",{type:"button",className:"cedros-button cedros-button-outline",onClick:()=>{p(),A(null),u()},children:"Retry"})]}):i&&!g?e.jsx("div",{className:`cedros-admin-stats ${h}`,children:e.jsx(J.StatsBar,{stats:[{label:"Total Withdrawn",value:0},{label:"Pending Withdraw",value:0},{label:"In Privacy Period",value:0},{label:"Microbatch (SOL)",value:"0.0000"}],isLoading:!0})}):g?e.jsx("div",{className:`cedros-admin-stats ${h}`,children:e.jsx(J.StatsBar,{stats:[{label:"Total Withdrawn",value:g.totalWithdrawnCount},{label:"Pending Withdraw",value:g.pendingWithdrawalCount},{label:"In Privacy Period",value:g.inPrivacyPeriodCount??0},{label:"Microbatch (SOL)",value:g.readyForWithdrawalSol?.toFixed(4)??"0.0000"}],isLoading:i,onRefresh:u})}):null}function X(s){return s==null?"—":`${(s/1e9).toFixed(4)} SOL`}function Y(s){return new Date(s).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function Z(s){return s.length<=12?s:`${s.slice(0,6)}...${s.slice(-4)}`}function te(s){const o=new Date(s),w=new Date().getTime()-o.getTime(),b=Math.floor(w/6e4),i=Math.floor(b/60),v=Math.floor(i/24);return v>0?`${v}d ago`:i>0?`${i}h ago`:b>0?`${b}m ago`:"just now"}function z(s){return s?new Date(s)>new Date:!0}function ae({pageSize:s=20,refreshInterval:o=0,refreshSignal:h,className:w="",onLoad:b,onItemClick:i,onWithdrawalProcessed:v,onAllProcessed:p}){const{listPendingWithdrawals:g,processWithdrawal:q,processAllWithdrawals:N,isLoading:A,error:u,clearError:C}=U.useAdminDeposits(),[d,k]=a.useState([]),[T,E]=a.useState(0),[c,W]=a.useState(0),[f,D]=a.useState(null),[y,n]=a.useState("withdrawalAvailableAt"),[l,O]=a.useState("asc"),L=t=>{y===t?O(l==="asc"?"desc":"asc"):(n(t),O(t==="withdrawalAvailableAt"?"asc":"desc"))},K=a.useMemo(()=>[...d].sort((t,x)=>{let j,$;switch(y){case"userId":j=t.userId.toLowerCase(),$=x.userId.toLowerCase();break;case"amountLamports":j=t.amountLamports??0,$=x.amountLamports??0;break;case"withdrawalAvailableAt":j=t.withdrawalAvailableAt?new Date(t.withdrawalAvailableAt).getTime():0,$=x.withdrawalAvailableAt?new Date(x.withdrawalAvailableAt).getTime():0;break;default:return 0}return j<$?l==="asc"?-1:1:j>$?l==="asc"?1:-1:0}),[d,y,l]),[R,r]=a.useState(null),[m,I]=a.useState(!1),[P,M]=a.useState(null),[F,_]=a.useState(null),S=a.useCallback(async()=>{try{const t=await g({limit:s,offset:c});k(t.deposits),E(t.total),b?.(t),D(null)}catch(t){const x=t&&typeof t=="object"&&"message"in t?String(t.message):"Failed to load pending withdrawals";D(x)}},[s,c,g,b]);a.useEffect(()=>{W(0)},[s]),a.useEffect(()=>{S()},[S]),a.useEffect(()=>{h!==void 0&&S()},[h,S]),a.useEffect(()=>{if(h!==void 0||o<=0)return;const t=setInterval(S,o);return()=>clearInterval(t)},[o,h,S]),a.useEffect(()=>{if(!P)return;const t=setTimeout(()=>M(null),5e3);return()=>clearTimeout(t)},[P]);const V=Math.ceil(T/s),H=Math.floor(c/s)+1,B=t=>{const x=(t-1)*s;W(Math.max(0,Math.min(x,Math.max(0,T-1))))},Q=async(t,x=!1)=>{if(!x&&z(t.withdrawalAvailableAt)){_(t);return}r(t.id),M(null);try{const j=await q(t.id,{force:x});j.success?(M({type:"success",message:`Withdrawal processed: ${j.txSignature?.slice(0,12)}...`}),v?.(j),await S()):M({type:"error",message:j.error||"Failed to process withdrawal"})}catch(j){M({type:"error",message:j instanceof Error?j.message:"Failed to process withdrawal"})}finally{r(null),_(null)}},ee=async()=>{if(d.length!==0){I(!0),M(null);try{const t=await N();t.totalSucceeded>0?M({type:"success",message:`Processed ${t.totalSucceeded}/${t.totalProcessed} withdrawals`}):t.totalFailed>0&&M({type:"error",message:`Failed to process ${t.totalFailed} withdrawals`}),p?.(t),await S()}catch(t){M({type:"error",message:t instanceof Error?t.message:"Failed to process withdrawals"})}finally{I(!1)}}},G=f||u;return G?e.jsxs("div",{className:`cedros-admin-withdrawal-queue cedros-admin-withdrawal-queue-error ${w}`,children:[e.jsx("p",{className:"cedros-admin-error",children:G}),e.jsx("button",{type:"button",className:"cedros-button cedros-button-outline",onClick:()=>{C(),D(null),S()},children:"Retry"})]}):A&&d.length===0&&!R&&!m?e.jsxs("div",{className:`cedros-admin-withdrawal-queue cedros-admin-withdrawal-queue-loading ${w}`,children:[e.jsx("span",{className:"cedros-admin-loading-indicator"}),e.jsx("span",{className:"cedros-admin-loading-text",children:"Loading withdrawal queue..."})]}):e.jsxs("div",{className:`cedros-admin-withdrawal-queue ${w}`,children:[F&&e.jsx("div",{className:"cedros-admin-modal-overlay",onClick:()=>_(null),onKeyDown:t=>t.key==="Escape"&&_(null),role:"dialog","aria-modal":"true","aria-labelledby":"early-withdrawal-title",children:e.jsxs("div",{className:"cedros-admin-modal cedros-admin-modal-warning",onClick:t=>t.stopPropagation(),onKeyDown:()=>{},role:"document",children:[e.jsx("h3",{id:"early-withdrawal-title",className:"cedros-admin-modal-title",children:"Early Withdrawal Warning"}),e.jsxs("div",{className:"cedros-admin-modal-content",children:[e.jsx("p",{className:"cedros-admin-modal-warning-text",children:e.jsx("strong",{children:"This deposit is still within its privacy period."})}),e.jsx("p",{children:"Processing this withdrawal early may compromise user privacy. The privacy period exists to provide plausible deniability for deposits."}),e.jsxs("p",{className:"cedros-admin-modal-details",children:["User: ",Z(F.userId),e.jsx("br",{}),"Amount: ",X(F.amountLamports),e.jsx("br",{}),"Available at:"," ",F.withdrawalAvailableAt?Y(F.withdrawalAvailableAt):"—"]}),e.jsx("p",{children:"Are you sure you want to process this withdrawal early?"})]}),e.jsxs("div",{className:"cedros-admin-modal-actions",children:[e.jsx("button",{type:"button",className:"cedros-button cedros-button-outline",onClick:()=>_(null),children:"Cancel"}),e.jsx("button",{type:"button",className:"cedros-button cedros-button-danger",onClick:()=>Q(F,!0),disabled:R===F.id,children:R===F.id?"Processing...":"Process Early"})]})]})}),P&&e.jsx("div",{className:`cedros-admin-result cedros-admin-result-${P.type}`,role:"status","aria-live":"polite",children:P.message}),e.jsxs("div",{className:"cedros-admin-withdrawal-queue-header",children:[e.jsx("h4",{className:"cedros-admin-withdrawal-queue-title",children:"Pending Withdrawals"}),e.jsxs("div",{className:"cedros-admin-withdrawal-queue-actions",children:[e.jsxs("span",{className:"cedros-admin-queue-count",children:[T," pending"]}),e.jsx("button",{type:"button",className:"cedros-admin__stats-bar-refresh",onClick:S,disabled:A||m,title:"Refresh queue","aria-label":"Refresh queue",children:A&&!m?"...":"↻"}),e.jsx("button",{type:"button",className:"cedros-button cedros-button-primary cedros-button-sm",onClick:ee,disabled:A||m||d.length===0,title:"Process all ready withdrawals",children:m?"Processing...":"Process All"})]})]}),d.length===0?e.jsx("div",{className:"cedros-admin-empty",children:e.jsx("p",{className:"cedros-admin-empty-message",children:"No pending withdrawals."})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"cedros-admin-withdrawal-table",children:[e.jsxs("div",{className:"cedros-admin-withdrawal-thead",children:[e.jsx("div",{className:"cedros-admin-withdrawal-th",children:e.jsxs("button",{type:"button",className:`cedros-admin-sort-button ${y==="userId"?"cedros-admin-sort-active":""}`,onClick:()=>L("userId"),"aria-label":"Sort by user",children:["User"," ",e.jsx("span",{className:"cedros-admin-sort-icon",children:y==="userId"?l==="asc"?"↑":"↓":"↕"})]})}),e.jsx("div",{className:"cedros-admin-withdrawal-th",children:e.jsxs("button",{type:"button",className:`cedros-admin-sort-button ${y==="amountLamports"?"cedros-admin-sort-active":""}`,onClick:()=>L("amountLamports"),"aria-label":"Sort by amount",children:["Amount"," ",e.jsx("span",{className:"cedros-admin-sort-icon",children:y==="amountLamports"?l==="asc"?"↑":"↓":"↕"})]})}),e.jsx("div",{className:"cedros-admin-withdrawal-th",children:e.jsxs("button",{type:"button",className:`cedros-admin-sort-button ${y==="withdrawalAvailableAt"?"cedros-admin-sort-active":""}`,onClick:()=>L("withdrawalAvailableAt"),"aria-label":"Sort by ready since",children:["Ready Since"," ",e.jsx("span",{className:"cedros-admin-sort-icon",children:y==="withdrawalAvailableAt"?l==="asc"?"↑":"↓":"↕"})]})}),e.jsx("div",{className:"cedros-admin-withdrawal-th",children:"Waiting"}),e.jsx("div",{className:"cedros-admin-withdrawal-th cedros-admin-withdrawal-th-action",children:"Action"})]}),K.map(t=>{const x=z(t.withdrawalAvailableAt),j=R===t.id;return e.jsxs("div",{className:`cedros-admin-withdrawal-row ${x?"cedros-admin-withdrawal-row-early":""}`,onClick:()=>i?.(t),onKeyDown:$=>{($.key==="Enter"||$.key===" ")&&($.preventDefault(),i?.(t))},role:i?"button":void 0,tabIndex:i?0:void 0,children:[e.jsx("div",{className:"cedros-admin-withdrawal-td",title:t.userId,children:Z(t.userId)}),e.jsx("div",{className:"cedros-admin-withdrawal-td",children:X(t.amountLamports)}),e.jsx("div",{className:"cedros-admin-withdrawal-td",children:t.withdrawalAvailableAt?Y(t.withdrawalAvailableAt):"—"}),e.jsx("div",{className:"cedros-admin-withdrawal-td cedros-admin-withdrawal-waiting",children:t.withdrawalAvailableAt?x?"In privacy period":te(t.withdrawalAvailableAt):"—"}),e.jsx("div",{className:"cedros-admin-withdrawal-td cedros-admin-withdrawal-td-action",children:e.jsx("button",{type:"button",className:`cedros-button cedros-button-sm ${x?"cedros-button-warning":"cedros-button-primary"}`,onClick:$=>{$.stopPropagation(),Q(t)},disabled:j||m,title:x?"Early withdrawal (requires confirmation)":"Process this withdrawal",children:j?"...":x?"Early":"Process"})})]},t.id)})]}),V>1&&e.jsxs("div",{className:"cedros-admin-pagination",children:[e.jsx("button",{type:"button",className:"cedros-button cedros-button-outline cedros-button-sm",onClick:()=>B(H-1),disabled:H<=1,children:"Previous"}),e.jsxs("span",{className:"cedros-admin-page-info",children:["Page ",H," of ",V," (",T," total)"]}),e.jsx("button",{type:"button",className:"cedros-button cedros-button-outline cedros-button-sm",onClick:()=>B(H+1),disabled:H>=V,children:"Next"})]})]})]})}function re(s){return s==null?"—":`${(s/1e9).toFixed(4)} SOL`}function ie(s){return new Date(s).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function ne(s){return s.length<=12?s:`${s.slice(0,6)}...${s.slice(-4)}`}function oe(s){const o=new Date(s),h=new Date,w=o.getTime()-h.getTime();if(w<=0)return"Ready";const b=Math.floor(w/6e4),i=Math.floor(b/60),v=Math.floor(i/24);if(v>0){const p=i%24;return p>0?`${v}d ${p}h`:`${v}d`}if(i>0){const p=b%60;return p>0?`${i}h ${p}m`:`${i}h`}return`${b}m`}function de({pageSize:s=20,refreshInterval:o=0,refreshSignal:h,className:w="",onLoad:b,onItemClick:i}){const{listInPrivacyPeriod:v,isLoading:p,error:g,clearError:q}=U.useAdminDeposits(),[N,A]=a.useState([]),[u,C]=a.useState(0),[d,k]=a.useState(0),[T,E]=a.useState(null),c=a.useCallback(async()=>{try{const n=await v({limit:s,offset:d});A(n.deposits),C(n.total),b?.(n),E(null)}catch(n){const l=n&&typeof n=="object"&&"message"in n?String(n.message):"Failed to load deposits";E(l)}},[s,d,v,b]);a.useEffect(()=>{k(0)},[s]),a.useEffect(()=>{c()},[c]),a.useEffect(()=>{h!==void 0&&c()},[h,c]),a.useEffect(()=>{if(h!==void 0||o<=0)return;const n=setInterval(c,o);return()=>clearInterval(n)},[o,h,c]);const W=Math.ceil(u/s),f=Math.floor(d/s)+1,D=n=>{const l=(n-1)*s;k(Math.max(0,Math.min(l,Math.max(0,u-1))))},y=T||g;return y?e.jsxs("div",{className:`cedros-admin-privacy-deposits cedros-admin-privacy-deposits-error ${w}`,children:[e.jsx("p",{className:"cedros-admin-error",children:y}),e.jsx("button",{type:"button",className:"cedros-button cedros-button-outline",onClick:()=>{q(),E(null),c()},children:"Retry"})]}):p&&N.length===0?e.jsxs("div",{className:`cedros-admin-privacy-deposits cedros-admin-privacy-deposits-loading ${w}`,children:[e.jsx("span",{className:"cedros-admin-loading-indicator"}),e.jsx("span",{className:"cedros-admin-loading-text",children:"Loading deposits..."})]}):e.jsxs("div",{className:`cedros-admin-privacy-deposits ${w}`,children:[e.jsxs("div",{className:"cedros-admin-privacy-deposits-header",children:[e.jsx("h4",{className:"cedros-admin-privacy-deposits-title",children:"In Privacy Period"}),e.jsxs("div",{className:"cedros-admin-privacy-deposits-actions",children:[e.jsxs("span",{className:"cedros-admin-queue-count",children:[u," deposit",u!==1?"s":""]}),e.jsx("button",{type:"button",className:"cedros-admin__stats-bar-refresh",onClick:c,disabled:p,title:"Refresh list","aria-label":"Refresh list",children:p?"...":"↻"})]})]}),N.length===0?e.jsx("div",{className:"cedros-admin-empty",children:e.jsx("p",{className:"cedros-admin-empty-message",children:"No deposits in privacy period."})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"cedros-admin-privacy-table",children:[e.jsxs("div",{className:"cedros-admin-privacy-thead",children:[e.jsx("div",{className:"cedros-admin-privacy-th",children:e.jsxs("button",{type:"button",className:"cedros-admin-sort-button","aria-label":"Sort by user",children:["User ",e.jsx("span",{className:"cedros-admin-sort-icon",children:"↕"})]})}),e.jsx("div",{className:"cedros-admin-privacy-th",children:e.jsxs("button",{type:"button",className:"cedros-admin-sort-button","aria-label":"Sort by amount",children:["Amount ",e.jsx("span",{className:"cedros-admin-sort-icon",children:"↕"})]})}),e.jsx("div",{className:"cedros-admin-privacy-th",children:e.jsxs("button",{type:"button",className:"cedros-admin-sort-button","aria-label":"Sort by deposited",children:["Deposited ",e.jsx("span",{className:"cedros-admin-sort-icon",children:"↕"})]})}),e.jsx("div",{className:"cedros-admin-privacy-th",children:e.jsxs("button",{type:"button",className:"cedros-admin-sort-button","aria-label":"Sort by ready in",children:["Ready In ",e.jsx("span",{className:"cedros-admin-sort-icon",children:"↕"})]})})]}),N.map(n=>e.jsxs("div",{className:"cedros-admin-privacy-row",onClick:()=>i?.(n),onKeyDown:l=>{(l.key==="Enter"||l.key===" ")&&(l.preventDefault(),i?.(n))},role:i?"button":void 0,tabIndex:i?0:void 0,children:[e.jsx("div",{className:"cedros-admin-privacy-td",title:n.userId,children:ne(n.userId)}),e.jsx("div",{className:"cedros-admin-privacy-td",children:re(n.amountLamports)}),e.jsx("div",{className:"cedros-admin-privacy-td",children:n.completedAt?ie(n.completedAt):"—"}),e.jsx("div",{className:"cedros-admin-privacy-td cedros-admin-privacy-remaining",children:n.withdrawalAvailableAt?oe(n.withdrawalAvailableAt):"—"})]},n.id))]}),W>1&&e.jsxs("div",{className:"cedros-admin-pagination",children:[e.jsx("button",{type:"button",className:"cedros-button cedros-button-outline cedros-button-sm",onClick:()=>D(f-1),disabled:f<=1,children:"Previous"}),e.jsxs("span",{className:"cedros-admin-page-info",children:["Page ",f," of ",W," (",u," total)"]}),e.jsx("button",{type:"button",className:"cedros-button cedros-button-outline cedros-button-sm",onClick:()=>D(f+1),disabled:f>=W,children:"Next"})]})]})]})}function ce(s){return s==null?"—":`${(s/1e9).toFixed(4)} SOL`}function le(s){return new Date(s).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function ue(s){return s.length<=16?s:`${s.slice(0,8)}...${s.slice(-6)}`}function me(s){return s.length<=12?s:`${s.slice(0,6)}...${s.slice(-4)}`}function he({pageSize:s=20,refreshInterval:o=0,refreshSignal:h,className:w="",onLoad:b,onItemClick:i}){const{listDeposits:v,isLoading:p,error:g,clearError:q}=U.useAdminDeposits(),[N,A]=a.useState([]),[u,C]=a.useState(0),[d,k]=a.useState(0),[T,E]=a.useState(null),[c,W]=a.useState("completedAt"),[f,D]=a.useState("desc"),y=r=>{c===r?D(f==="asc"?"desc":"asc"):(W(r),D("desc"))},n=a.useMemo(()=>[...N].sort((r,m)=>{let I,P;switch(c){case"userId":I=r.userId.toLowerCase(),P=m.userId.toLowerCase();break;case"amountLamports":I=r.amountLamports??0,P=m.amountLamports??0;break;case"completedAt":I=r.completedAt?new Date(r.completedAt).getTime():0,P=m.completedAt?new Date(m.completedAt).getTime():0;break;case"withdrawalTxSignature":I=r.withdrawalTxSignature||"",P=m.withdrawalTxSignature||"";break;default:return 0}return I<P?f==="asc"?-1:1:I>P?f==="asc"?1:-1:0}),[N,c,f]),l=a.useCallback(async()=>{try{const r=await v({status:"withdrawn",limit:s,offset:d});A(r.deposits),C(r.total),b?.(r),E(null)}catch(r){const m=r&&typeof r=="object"&&"message"in r?String(r.message):"Failed to load withdrawal history";E(m)}},[s,d,v,b]);a.useEffect(()=>{k(0)},[s]),a.useEffect(()=>{l()},[l]),a.useEffect(()=>{h!==void 0&&l()},[h,l]),a.useEffect(()=>{if(h!==void 0||o<=0)return;const r=setInterval(l,o);return()=>clearInterval(r)},[o,h,l]);const O=Math.ceil(u/s),L=Math.floor(d/s)+1,K=r=>{const m=(r-1)*s;k(Math.max(0,Math.min(m,Math.max(0,u-1))))},R=T||g;return R?e.jsxs("div",{className:`cedros-admin-withdrawal-history cedros-admin-withdrawal-history-error ${w}`,children:[e.jsx("p",{className:"cedros-admin-error",children:R}),e.jsx("button",{type:"button",className:"cedros-button cedros-button-outline",onClick:()=>{q(),E(null),l()},children:"Retry"})]}):p&&N.length===0?e.jsxs("div",{className:`cedros-admin-withdrawal-history cedros-admin-withdrawal-history-loading ${w}`,children:[e.jsx("span",{className:"cedros-admin-loading-indicator"}),e.jsx("span",{className:"cedros-admin-loading-text",children:"Loading withdrawal history..."})]}):e.jsxs("div",{className:`cedros-admin-withdrawal-history ${w}`,children:[e.jsxs("div",{className:"cedros-admin-withdrawal-history-header",children:[e.jsx("h4",{className:"cedros-admin-withdrawal-history-title",children:"Withdrawal History"}),e.jsxs("div",{className:"cedros-admin-withdrawal-history-actions",children:[e.jsxs("span",{className:"cedros-admin-queue-count",children:[u," withdrawal",u!==1?"s":""]}),e.jsx("button",{type:"button",className:"cedros-admin__stats-bar-refresh",onClick:l,disabled:p,title:"Refresh list","aria-label":"Refresh list",children:p?"...":"↻"})]})]}),N.length===0?e.jsx("div",{className:"cedros-admin-empty",children:e.jsx("p",{className:"cedros-admin-empty-message",children:"No withdrawals processed yet."})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"cedros-admin-history-table",children:[e.jsxs("div",{className:"cedros-admin-history-thead",children:[e.jsx("div",{className:"cedros-admin-history-th",children:e.jsxs("button",{type:"button",className:`cedros-admin-sort-button ${c==="userId"?"cedros-admin-sort-active":""}`,onClick:()=>y("userId"),"aria-label":"Sort by user",children:["User"," ",e.jsx("span",{className:"cedros-admin-sort-icon",children:c==="userId"?f==="asc"?"↑":"↓":"↕"})]})}),e.jsx("div",{className:"cedros-admin-history-th",children:e.jsxs("button",{type:"button",className:`cedros-admin-sort-button ${c==="amountLamports"?"cedros-admin-sort-active":""}`,onClick:()=>y("amountLamports"),"aria-label":"Sort by amount",children:["Amount"," ",e.jsx("span",{className:"cedros-admin-sort-icon",children:c==="amountLamports"?f==="asc"?"↑":"↓":"↕"})]})}),e.jsx("div",{className:"cedros-admin-history-th",children:e.jsxs("button",{type:"button",className:`cedros-admin-sort-button ${c==="completedAt"?"cedros-admin-sort-active":""}`,onClick:()=>y("completedAt"),"aria-label":"Sort by processed",children:["Processed"," ",e.jsx("span",{className:"cedros-admin-sort-icon",children:c==="completedAt"?f==="asc"?"↑":"↓":"↕"})]})}),e.jsx("div",{className:"cedros-admin-history-th",children:e.jsxs("button",{type:"button",className:`cedros-admin-sort-button ${c==="withdrawalTxSignature"?"cedros-admin-sort-active":""}`,onClick:()=>y("withdrawalTxSignature"),"aria-label":"Sort by transaction",children:["Transaction"," ",e.jsx("span",{className:"cedros-admin-sort-icon",children:c==="withdrawalTxSignature"?f==="asc"?"↑":"↓":"↕"})]})})]}),n.map(r=>e.jsxs("div",{className:"cedros-admin-history-row",onClick:()=>i?.(r),onKeyDown:m=>{(m.key==="Enter"||m.key===" ")&&(m.preventDefault(),i?.(r))},role:i?"button":void 0,tabIndex:i?0:void 0,children:[e.jsx("div",{className:"cedros-admin-history-td",title:r.userId,children:me(r.userId)}),e.jsx("div",{className:"cedros-admin-history-td",children:ce(r.amountLamports)}),e.jsx("div",{className:"cedros-admin-history-td",children:r.completedAt?le(r.completedAt):"—"}),e.jsx("div",{className:"cedros-admin-history-td",children:r.withdrawalTxSignature?e.jsx("a",{href:`https://orbmarkets.io/tx/${r.withdrawalTxSignature}`,target:"_blank",rel:"noopener noreferrer",className:"cedros-admin-tx-link",onClick:m=>m.stopPropagation(),title:r.withdrawalTxSignature,children:ue(r.withdrawalTxSignature)}):"—"})]},r.id))]}),O>1&&e.jsxs("div",{className:"cedros-admin-pagination",children:[e.jsx("button",{type:"button",className:"cedros-button cedros-button-outline cedros-button-sm",onClick:()=>K(L-1),disabled:L<=1,children:"Previous"}),e.jsxs("span",{className:"cedros-admin-page-info",children:["Page ",L," of ",O," (",u," total)"]}),e.jsx("button",{type:"button",className:"cedros-button cedros-button-outline cedros-button-sm",onClick:()=>K(L+1),disabled:L>=O,children:"Next"})]})]})]})}exports.AdminPrivacyPeriodDeposits=de;exports.AdminWithdrawalHistory=he;exports.AdminWithdrawalQueue=ae;exports.AdminWithdrawalStats=se;

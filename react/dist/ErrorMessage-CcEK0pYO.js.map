{"version":3,"file":"ErrorMessage-CcEK0pYO.js","sources":["../src/components/shared/ErrorMessage.tsx"],"sourcesContent":["import { memo, useRef, useEffect } from 'react';\nimport type { DisplayError } from '../../types';\n\nexport interface ErrorMessageProps {\n  error: DisplayError;\n  className?: string;\n  onDismiss?: () => void;\n  /** If true, focus the error message when it appears (for accessibility) */\n  autoFocus?: boolean;\n}\n\n/**\n * Error message display component with accessibility support.\n * Announces errors to screen readers and optionally focuses the message.\n * Wrapped with React.memo to prevent unnecessary re-renders.\n */\nexport const ErrorMessage = memo(function ErrorMessage({\n  error,\n  className = '',\n  onDismiss,\n  autoFocus = false,\n}: ErrorMessageProps) {\n  const errorRef = useRef<HTMLDivElement>(null);\n\n  // Focus the error message when it appears (for accessibility)\n  useEffect(() => {\n    if (error && autoFocus && errorRef.current) {\n      errorRef.current.focus();\n    }\n  }, [error, autoFocus]);\n\n  if (!error) return null;\n\n  const message = typeof error === 'string' ? error : error.message;\n\n  return (\n    <div\n      ref={errorRef}\n      className={`cedros-error ${className}`}\n      role=\"alert\"\n      aria-live=\"assertive\"\n      tabIndex={autoFocus ? -1 : undefined}\n    >\n      <svg\n        className=\"cedros-error-icon\"\n        width=\"16\"\n        height=\"16\"\n        viewBox=\"0 0 16 16\"\n        fill=\"none\"\n        aria-hidden=\"true\"\n      >\n        <circle cx=\"8\" cy=\"8\" r=\"7\" stroke=\"currentColor\" strokeWidth=\"1.5\" />\n        <path d=\"M8 4.5v4\" stroke=\"currentColor\" strokeWidth=\"1.5\" strokeLinecap=\"round\" />\n        <circle cx=\"8\" cy=\"11\" r=\"0.75\" fill=\"currentColor\" />\n      </svg>\n      <span className=\"cedros-error-message\">{message}</span>\n      {onDismiss && (\n        <button\n          type=\"button\"\n          className=\"cedros-error-dismiss\"\n          onClick={onDismiss}\n          aria-label=\"Dismiss error\"\n        >\n          <svg width=\"14\" height=\"14\" viewBox=\"0 0 14 14\" fill=\"none\" aria-hidden=\"true\">\n            <path\n              d=\"M10.5 3.5L3.5 10.5M3.5 3.5l7 7\"\n              stroke=\"currentColor\"\n              strokeWidth=\"1.5\"\n              strokeLinecap=\"round\"\n            />\n          </svg>\n        </button>\n      )}\n    </div>\n  );\n});\n"],"names":["ErrorMessage","memo","error","className","onDismiss","autoFocus","errorRef","useRef","useEffect","message","jsxs","jsx"],"mappings":";;AAgBO,MAAMA,IAAeC,EAAK,SAAsB;AAAA,EACrD,OAAAC;AAAA,EACA,WAAAC,IAAY;AAAA,EACZ,WAAAC;AAAA,EACA,WAAAC,IAAY;AACd,GAAsB;AACpB,QAAMC,IAAWC,EAAuB,IAAI;AAS5C,MANAC,EAAU,MAAM;AACd,IAAIN,KAASG,KAAaC,EAAS,WACjCA,EAAS,QAAQ,MAAA;AAAA,EAErB,GAAG,CAACJ,GAAOG,CAAS,CAAC,GAEjB,CAACH,EAAO,QAAO;AAEnB,QAAMO,IAAU,OAAOP,KAAU,WAAWA,IAAQA,EAAM;AAE1D,SACE,gBAAAQ;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,KAAKJ;AAAA,MACL,WAAW,gBAAgBH,CAAS;AAAA,MACpC,MAAK;AAAA,MACL,aAAU;AAAA,MACV,UAAUE,IAAY,KAAK;AAAA,MAE3B,UAAA;AAAA,QAAA,gBAAAK;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,WAAU;AAAA,YACV,OAAM;AAAA,YACN,QAAO;AAAA,YACP,SAAQ;AAAA,YACR,MAAK;AAAA,YACL,eAAY;AAAA,YAEZ,UAAA;AAAA,cAAA,gBAAAC,EAAC,UAAA,EAAO,IAAG,KAAI,IAAG,KAAI,GAAE,KAAI,QAAO,gBAAe,aAAY,MAAA,CAAM;AAAA,cACpE,gBAAAA,EAAC,UAAK,GAAE,YAAW,QAAO,gBAAe,aAAY,OAAM,eAAc,QAAA,CAAQ;AAAA,cACjF,gBAAAA,EAAC,YAAO,IAAG,KAAI,IAAG,MAAK,GAAE,QAAO,MAAK,eAAA,CAAe;AAAA,YAAA;AAAA,UAAA;AAAA,QAAA;AAAA,QAEtD,gBAAAA,EAAC,QAAA,EAAK,WAAU,wBAAwB,UAAAF,GAAQ;AAAA,QAC/CL,KACC,gBAAAO;AAAA,UAAC;AAAA,UAAA;AAAA,YACC,MAAK;AAAA,YACL,WAAU;AAAA,YACV,SAASP;AAAA,YACT,cAAW;AAAA,YAEX,UAAA,gBAAAO,EAAC,OAAA,EAAI,OAAM,MAAK,QAAO,MAAK,SAAQ,aAAY,MAAK,QAAO,eAAY,QACtE,UAAA,gBAAAA;AAAA,cAAC;AAAA,cAAA;AAAA,gBACC,GAAE;AAAA,gBACF,QAAO;AAAA,gBACP,aAAY;AAAA,gBACZ,eAAc;AAAA,cAAA;AAAA,YAAA,EAChB,CACF;AAAA,UAAA;AAAA,QAAA;AAAA,MACF;AAAA,IAAA;AAAA,EAAA;AAIR,CAAC;"}
{"version":3,"file":"AdminWithdrawalHistory-0yxtMh6q.cjs","sources":["../src/components/deposit/admin/AdminWithdrawalStats.tsx","../src/components/deposit/admin/AdminWithdrawalQueue.tsx","../src/components/deposit/admin/AdminPrivacyPeriodDeposits.tsx","../src/components/deposit/admin/AdminWithdrawalHistory.tsx"],"sourcesContent":["/**\n * Admin withdrawal statistics component\n *\n * Shows high-level withdrawal pipeline stats in a single row.\n */\n\nimport { useState, useEffect, useCallback } from 'react';\nimport { useAdminDeposits } from '../../../hooks/useAdminDeposits';\nimport type { AdminDepositStatsResponse } from '../../../types/deposit';\nimport { FeatureDisabledMessage } from './FeatureDisabledMessage';\nimport { isFeatureDisabledError } from './featureDisabled';\nimport { StatsBar } from '../../admin/StatsBar';\n\nexport interface AdminWithdrawalStatsProps {\n  /** Auto-refresh interval in milliseconds (0 to disable) */\n  refreshInterval?: number;\n  /** Additional CSS classes */\n  className?: string;\n  /** Callback when stats are loaded */\n  onLoad?: (stats: AdminDepositStatsResponse) => void;\n}\n\nexport function AdminWithdrawalStats({\n  refreshInterval = 0,\n  className = '',\n  onLoad,\n}: AdminWithdrawalStatsProps) {\n  const { getStats, isLoading, error, clearError } = useAdminDeposits();\n\n  const [stats, setStats] = useState<AdminDepositStatsResponse | null>(null);\n  const [loadError, setLoadError] = useState<string | null>(null);\n\n  const fetchStats = useCallback(async () => {\n    try {\n      const result = await getStats();\n      setStats(result);\n      onLoad?.(result);\n      setLoadError(null);\n    } catch (err) {\n      const message =\n        err && typeof err === 'object' && 'message' in err\n          ? String((err as { message: unknown }).message)\n          : 'Failed to load stats';\n      setLoadError(message);\n    }\n  }, [getStats, onLoad]);\n\n  useEffect(() => {\n    fetchStats();\n  }, [fetchStats]);\n\n  useEffect(() => {\n    if (refreshInterval <= 0) return;\n    const interval = setInterval(fetchStats, refreshInterval);\n    return () => clearInterval(interval);\n  }, [refreshInterval, fetchStats]);\n\n  const errorMessage = loadError || error;\n  if (isFeatureDisabledError(errorMessage)) {\n    return <FeatureDisabledMessage feature=\"Privacy Cash\" className={className} />;\n  }\n\n  if (errorMessage) {\n    return (\n      <div className={`cedros-admin-stats ${className}`}>\n        <p className=\"cedros-admin-error\">{errorMessage}</p>\n        <button\n          type=\"button\"\n          className=\"cedros-button cedros-button-outline\"\n          onClick={() => {\n            clearError();\n            setLoadError(null);\n            fetchStats();\n          }}\n        >\n          Retry\n        </button>\n      </div>\n    );\n  }\n\n  if (isLoading && !stats) {\n    return (\n      <div className={`cedros-admin-stats ${className}`}>\n        <StatsBar\n          stats={[\n            { label: 'Total Withdrawn', value: 0 },\n            { label: 'Pending Withdraw', value: 0 },\n            { label: 'In Privacy Period', value: 0 },\n            { label: 'Microbatch (SOL)', value: '0.0000' },\n          ]}\n          isLoading\n        />\n      </div>\n    );\n  }\n\n  if (!stats) return null;\n\n  return (\n    <div className={`cedros-admin-stats ${className}`}>\n      <StatsBar\n        stats={[\n          { label: 'Total Withdrawn', value: stats.totalWithdrawnCount },\n          { label: 'Pending Withdraw', value: stats.pendingWithdrawalCount },\n          { label: 'In Privacy Period', value: stats.inPrivacyPeriodCount ?? 0 },\n          { label: 'Microbatch (SOL)', value: stats.readyForWithdrawalSol?.toFixed(4) ?? '0.0000' },\n        ]}\n        isLoading={isLoading}\n        onRefresh={fetchStats}\n      />\n    </div>\n  );\n}\n","/**\n * Admin withdrawal queue component\n *\n * Shows deposits that are ready for withdrawal (privacy period elapsed).\n * Includes buttons to process individual or all withdrawals.\n * Requires system admin privileges.\n */\n\nimport { useState, useEffect, useCallback, useMemo } from 'react';\nimport { useAdminDeposits } from '../../../hooks/useAdminDeposits';\nimport type {\n  AdminDepositItem,\n  AdminDepositListResponse,\n  ProcessWithdrawalResponse,\n  ProcessAllWithdrawalsResponse,\n} from '../../../types/deposit';\nimport { FeatureDisabledMessage } from './FeatureDisabledMessage';\nimport { isFeatureDisabledError } from './featureDisabled';\n\ntype QueueSortField = 'userId' | 'amountLamports' | 'withdrawalAvailableAt';\ntype SortOrder = 'asc' | 'desc';\n\nexport interface AdminWithdrawalQueueProps {\n  /** Number of items per page (default: 20) */\n  pageSize?: number;\n  /** Auto-refresh interval in milliseconds (0 to disable) */\n  refreshInterval?: number;\n  /** Additional CSS classes */\n  className?: string;\n  /** Callback when list is loaded */\n  onLoad?: (response: AdminDepositListResponse) => void;\n  /** Callback when a withdrawal item is clicked */\n  onItemClick?: (item: AdminDepositItem) => void;\n  /** Callback when a withdrawal is processed */\n  onWithdrawalProcessed?: (response: ProcessWithdrawalResponse) => void;\n  /** Callback when all withdrawals are processed */\n  onAllProcessed?: (response: ProcessAllWithdrawalsResponse) => void;\n}\n\nfunction formatAmount(lamports: number | null): string {\n  if (lamports === null || lamports === undefined) return '—';\n  const solAmount = lamports / 1_000_000_000;\n  return `${solAmount.toFixed(4)} SOL`;\n}\n\nfunction formatDate(dateString: string): string {\n  const date = new Date(dateString);\n  return date.toLocaleDateString(undefined, {\n    year: 'numeric',\n    month: 'short',\n    day: 'numeric',\n    hour: '2-digit',\n    minute: '2-digit',\n  });\n}\n\nfunction truncateId(id: string): string {\n  if (id.length <= 12) return id;\n  return `${id.slice(0, 6)}...${id.slice(-4)}`;\n}\n\nfunction getTimeElapsed(dateString: string): string {\n  const date = new Date(dateString);\n  const now = new Date();\n  const diffMs = now.getTime() - date.getTime();\n  const diffMins = Math.floor(diffMs / 60000);\n  const diffHours = Math.floor(diffMins / 60);\n  const diffDays = Math.floor(diffHours / 24);\n\n  if (diffDays > 0) return `${diffDays}d ago`;\n  if (diffHours > 0) return `${diffHours}h ago`;\n  if (diffMins > 0) return `${diffMins}m ago`;\n  return 'just now';\n}\n\nfunction isWithinPrivacyPeriod(withdrawalAvailableAt: string | undefined): boolean {\n  if (!withdrawalAvailableAt) return true;\n  return new Date(withdrawalAvailableAt) > new Date();\n}\n\n/**\n * Admin withdrawal queue display\n *\n * Shows deposits ready for withdrawal processing with action buttons.\n */\nexport function AdminWithdrawalQueue({\n  pageSize = 20,\n  refreshInterval = 0,\n  className = '',\n  onLoad,\n  onItemClick,\n  onWithdrawalProcessed,\n  onAllProcessed,\n}: AdminWithdrawalQueueProps) {\n  const {\n    listPendingWithdrawals,\n    processWithdrawal,\n    processAllWithdrawals,\n    isLoading,\n    error,\n    clearError,\n  } = useAdminDeposits();\n\n  const [items, setItems] = useState<AdminDepositItem[]>([]);\n  const [total, setTotal] = useState(0);\n  const [offset, setOffset] = useState(0);\n  const [loadError, setLoadError] = useState<string | null>(null);\n  const [sortField, setSortField] = useState<QueueSortField>('withdrawalAvailableAt');\n  const [sortOrder, setSortOrder] = useState<SortOrder>('asc');\n\n  const toggleSort = (field: QueueSortField) => {\n    if (sortField === field) {\n      setSortOrder(sortOrder === 'asc' ? 'desc' : 'asc');\n    } else {\n      setSortField(field);\n      setSortOrder(field === 'withdrawalAvailableAt' ? 'asc' : 'desc');\n    }\n  };\n\n  const sortedItems = useMemo(() => {\n    return [...items].sort((a, b) => {\n      let aVal: string | number;\n      let bVal: string | number;\n\n      switch (sortField) {\n        case 'userId':\n          aVal = a.userId.toLowerCase();\n          bVal = b.userId.toLowerCase();\n          break;\n        case 'amountLamports':\n          aVal = a.amountLamports ?? 0;\n          bVal = b.amountLamports ?? 0;\n          break;\n        case 'withdrawalAvailableAt':\n          aVal = a.withdrawalAvailableAt ? new Date(a.withdrawalAvailableAt).getTime() : 0;\n          bVal = b.withdrawalAvailableAt ? new Date(b.withdrawalAvailableAt).getTime() : 0;\n          break;\n        default:\n          return 0;\n      }\n\n      if (aVal < bVal) return sortOrder === 'asc' ? -1 : 1;\n      if (aVal > bVal) return sortOrder === 'asc' ? 1 : -1;\n      return 0;\n    });\n  }, [items, sortField, sortOrder]);\n\n  // Processing state\n  const [processingId, setProcessingId] = useState<string | null>(null);\n  const [processingAll, setProcessingAll] = useState(false);\n  const [processResult, setProcessResult] = useState<{\n    type: 'success' | 'error';\n    message: string;\n  } | null>(null);\n\n  // Early withdrawal confirmation modal\n  const [earlyWithdrawalItem, setEarlyWithdrawalItem] = useState<AdminDepositItem | null>(null);\n\n  const fetchItems = useCallback(async () => {\n    try {\n      const result = await listPendingWithdrawals({ limit: pageSize, offset });\n      setItems(result.deposits);\n      setTotal(result.total);\n      onLoad?.(result);\n      setLoadError(null);\n    } catch (err) {\n      const message =\n        err && typeof err === 'object' && 'message' in err\n          ? String((err as { message: unknown }).message)\n          : 'Failed to load pending withdrawals';\n      setLoadError(message);\n    }\n  }, [pageSize, offset, listPendingWithdrawals, onLoad]);\n\n  // Reset offset when page size changes\n  useEffect(() => {\n    setOffset(0);\n  }, [pageSize]);\n\n  // Fetch on mount and when dependencies change\n  useEffect(() => {\n    fetchItems();\n  }, [fetchItems]);\n\n  // Auto-refresh\n  useEffect(() => {\n    if (refreshInterval <= 0) return;\n\n    const interval = setInterval(fetchItems, refreshInterval);\n    return () => clearInterval(interval);\n  }, [refreshInterval, fetchItems]);\n\n  // Clear result message after 5 seconds\n  useEffect(() => {\n    if (!processResult) return;\n    const timer = setTimeout(() => setProcessResult(null), 5000);\n    return () => clearTimeout(timer);\n  }, [processResult]);\n\n  const totalPages = Math.ceil(total / pageSize);\n  const currentPage = Math.floor(offset / pageSize) + 1;\n\n  const goToPage = (page: number) => {\n    const newOffset = (page - 1) * pageSize;\n    setOffset(Math.max(0, Math.min(newOffset, Math.max(0, total - 1))));\n  };\n\n  const handleProcessSingle = async (item: AdminDepositItem, force = false) => {\n    // Check if within privacy period and not forcing\n    if (!force && isWithinPrivacyPeriod(item.withdrawalAvailableAt)) {\n      setEarlyWithdrawalItem(item);\n      return;\n    }\n\n    setProcessingId(item.id);\n    setProcessResult(null);\n\n    try {\n      const result = await processWithdrawal(item.id, { force });\n      if (result.success) {\n        setProcessResult({\n          type: 'success',\n          message: `Withdrawal processed: ${result.txSignature?.slice(0, 12)}...`,\n        });\n        onWithdrawalProcessed?.(result);\n        // Refresh the list\n        await fetchItems();\n      } else {\n        setProcessResult({\n          type: 'error',\n          message: result.error || 'Failed to process withdrawal',\n        });\n      }\n    } catch (err) {\n      setProcessResult({\n        type: 'error',\n        message: err instanceof Error ? err.message : 'Failed to process withdrawal',\n      });\n    } finally {\n      setProcessingId(null);\n      setEarlyWithdrawalItem(null);\n    }\n  };\n\n  const handleProcessAll = async () => {\n    if (items.length === 0) return;\n\n    setProcessingAll(true);\n    setProcessResult(null);\n\n    try {\n      const result = await processAllWithdrawals();\n      if (result.totalSucceeded > 0) {\n        setProcessResult({\n          type: 'success',\n          message: `Processed ${result.totalSucceeded}/${result.totalProcessed} withdrawals`,\n        });\n      } else if (result.totalFailed > 0) {\n        setProcessResult({\n          type: 'error',\n          message: `Failed to process ${result.totalFailed} withdrawals`,\n        });\n      }\n      onAllProcessed?.(result);\n      // Refresh the list\n      await fetchItems();\n    } catch (err) {\n      setProcessResult({\n        type: 'error',\n        message: err instanceof Error ? err.message : 'Failed to process withdrawals',\n      });\n    } finally {\n      setProcessingAll(false);\n    }\n  };\n\n  // Feature disabled state\n  const errorMessage = loadError || error;\n  if (isFeatureDisabledError(errorMessage)) {\n    return <FeatureDisabledMessage feature=\"Privacy Cash\" className={className} />;\n  }\n\n  // Error state\n  if (errorMessage) {\n    return (\n      <div\n        className={`cedros-admin-withdrawal-queue cedros-admin-withdrawal-queue-error ${className}`}\n      >\n        <p className=\"cedros-admin-error\">{errorMessage}</p>\n        <button\n          type=\"button\"\n          className=\"cedros-button cedros-button-outline\"\n          onClick={() => {\n            clearError();\n            setLoadError(null);\n            fetchItems();\n          }}\n        >\n          Retry\n        </button>\n      </div>\n    );\n  }\n\n  // Loading state (initial load only)\n  if (isLoading && items.length === 0 && !processingId && !processingAll) {\n    return (\n      <div\n        className={`cedros-admin-withdrawal-queue cedros-admin-withdrawal-queue-loading ${className}`}\n      >\n        <span className=\"cedros-admin-loading-indicator\" />\n        <span className=\"cedros-admin-loading-text\">Loading withdrawal queue...</span>\n      </div>\n    );\n  }\n\n  return (\n    <div className={`cedros-admin-withdrawal-queue ${className}`}>\n      {/* Early Withdrawal Confirmation Modal */}\n      {earlyWithdrawalItem && (\n        <div\n          className=\"cedros-admin-modal-overlay\"\n          onClick={() => setEarlyWithdrawalItem(null)}\n          onKeyDown={(e) => e.key === 'Escape' && setEarlyWithdrawalItem(null)}\n          role=\"dialog\"\n          aria-modal=\"true\"\n          aria-labelledby=\"early-withdrawal-title\"\n        >\n          <div\n            className=\"cedros-admin-modal cedros-admin-modal-warning\"\n            onClick={(e) => e.stopPropagation()}\n            onKeyDown={() => {}}\n            role=\"document\"\n          >\n            <h3 id=\"early-withdrawal-title\" className=\"cedros-admin-modal-title\">\n              Early Withdrawal Warning\n            </h3>\n            <div className=\"cedros-admin-modal-content\">\n              <p className=\"cedros-admin-modal-warning-text\">\n                <strong>This deposit is still within its privacy period.</strong>\n              </p>\n              <p>\n                Processing this withdrawal early may compromise user privacy. The privacy period\n                exists to provide plausible deniability for deposits.\n              </p>\n              <p className=\"cedros-admin-modal-details\">\n                User: {truncateId(earlyWithdrawalItem.userId)}\n                <br />\n                Amount: {formatAmount(earlyWithdrawalItem.amountLamports)}\n                <br />\n                Available at:{' '}\n                {earlyWithdrawalItem.withdrawalAvailableAt\n                  ? formatDate(earlyWithdrawalItem.withdrawalAvailableAt)\n                  : '—'}\n              </p>\n              <p>Are you sure you want to process this withdrawal early?</p>\n            </div>\n            <div className=\"cedros-admin-modal-actions\">\n              <button\n                type=\"button\"\n                className=\"cedros-button cedros-button-outline\"\n                onClick={() => setEarlyWithdrawalItem(null)}\n              >\n                Cancel\n              </button>\n              <button\n                type=\"button\"\n                className=\"cedros-button cedros-button-danger\"\n                onClick={() => handleProcessSingle(earlyWithdrawalItem, true)}\n                disabled={processingId === earlyWithdrawalItem.id}\n              >\n                {processingId === earlyWithdrawalItem.id ? 'Processing...' : 'Process Early'}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Result message */}\n      {processResult && (\n        <div\n          className={`cedros-admin-result cedros-admin-result-${processResult.type}`}\n          role=\"status\"\n          aria-live=\"polite\"\n        >\n          {processResult.message}\n        </div>\n      )}\n\n      <div className=\"cedros-admin-withdrawal-queue-header\">\n        <h4 className=\"cedros-admin-withdrawal-queue-title\">Pending Withdrawals</h4>\n        <div className=\"cedros-admin-withdrawal-queue-actions\">\n          <span className=\"cedros-admin-queue-count\">{total} pending</span>\n          <button\n            type=\"button\"\n            className=\"cedros-admin__stats-bar-refresh\"\n            onClick={fetchItems}\n            disabled={isLoading || processingAll}\n            title=\"Refresh queue\"\n            aria-label=\"Refresh queue\"\n          >\n            {isLoading && !processingAll ? '...' : '↻'}\n          </button>\n          <button\n            type=\"button\"\n            className=\"cedros-button cedros-button-primary cedros-button-sm\"\n            onClick={handleProcessAll}\n            disabled={isLoading || processingAll || items.length === 0}\n            title=\"Process all ready withdrawals\"\n          >\n            {processingAll ? 'Processing...' : 'Process All'}\n          </button>\n        </div>\n      </div>\n\n      {items.length === 0 ? (\n        <div className=\"cedros-admin-empty\">\n          <p className=\"cedros-admin-empty-message\">No pending withdrawals.</p>\n        </div>\n      ) : (\n        <>\n          <div className=\"cedros-admin-withdrawal-table\">\n            <div className=\"cedros-admin-withdrawal-thead\">\n              <div className=\"cedros-admin-withdrawal-th\">\n                <button\n                  type=\"button\"\n                  className={`cedros-admin-sort-button ${sortField === 'userId' ? 'cedros-admin-sort-active' : ''}`}\n                  onClick={() => toggleSort('userId')}\n                  aria-label=\"Sort by user\"\n                >\n                  User{' '}\n                  <span className=\"cedros-admin-sort-icon\">\n                    {sortField === 'userId' ? (sortOrder === 'asc' ? '↑' : '↓') : '↕'}\n                  </span>\n                </button>\n              </div>\n              <div className=\"cedros-admin-withdrawal-th\">\n                <button\n                  type=\"button\"\n                  className={`cedros-admin-sort-button ${sortField === 'amountLamports' ? 'cedros-admin-sort-active' : ''}`}\n                  onClick={() => toggleSort('amountLamports')}\n                  aria-label=\"Sort by amount\"\n                >\n                  Amount{' '}\n                  <span className=\"cedros-admin-sort-icon\">\n                    {sortField === 'amountLamports' ? (sortOrder === 'asc' ? '↑' : '↓') : '↕'}\n                  </span>\n                </button>\n              </div>\n              <div className=\"cedros-admin-withdrawal-th\">\n                <button\n                  type=\"button\"\n                  className={`cedros-admin-sort-button ${sortField === 'withdrawalAvailableAt' ? 'cedros-admin-sort-active' : ''}`}\n                  onClick={() => toggleSort('withdrawalAvailableAt')}\n                  aria-label=\"Sort by ready since\"\n                >\n                  Ready Since{' '}\n                  <span className=\"cedros-admin-sort-icon\">\n                    {sortField === 'withdrawalAvailableAt'\n                      ? sortOrder === 'asc'\n                        ? '↑'\n                        : '↓'\n                      : '↕'}\n                  </span>\n                </button>\n              </div>\n              <div className=\"cedros-admin-withdrawal-th\">Waiting</div>\n              <div className=\"cedros-admin-withdrawal-th cedros-admin-withdrawal-th-action\">\n                Action\n              </div>\n            </div>\n            {sortedItems.map((item) => {\n              const withinPrivacyPeriod = isWithinPrivacyPeriod(item.withdrawalAvailableAt);\n              const isProcessing = processingId === item.id;\n\n              return (\n                <div\n                  key={item.id}\n                  className={`cedros-admin-withdrawal-row ${withinPrivacyPeriod ? 'cedros-admin-withdrawal-row-early' : ''}`}\n                  onClick={() => onItemClick?.(item)}\n                  onKeyDown={(e) => {\n                    if (e.key === 'Enter' || e.key === ' ') {\n                      e.preventDefault();\n                      onItemClick?.(item);\n                    }\n                  }}\n                  role={onItemClick ? 'button' : undefined}\n                  tabIndex={onItemClick ? 0 : undefined}\n                >\n                  <div className=\"cedros-admin-withdrawal-td\" title={item.userId}>\n                    {truncateId(item.userId)}\n                  </div>\n                  <div className=\"cedros-admin-withdrawal-td\">\n                    {formatAmount(item.amountLamports)}\n                  </div>\n                  <div className=\"cedros-admin-withdrawal-td\">\n                    {item.withdrawalAvailableAt ? formatDate(item.withdrawalAvailableAt) : '—'}\n                  </div>\n                  <div className=\"cedros-admin-withdrawal-td cedros-admin-withdrawal-waiting\">\n                    {item.withdrawalAvailableAt\n                      ? withinPrivacyPeriod\n                        ? 'In privacy period'\n                        : getTimeElapsed(item.withdrawalAvailableAt)\n                      : '—'}\n                  </div>\n                  <div className=\"cedros-admin-withdrawal-td cedros-admin-withdrawal-td-action\">\n                    <button\n                      type=\"button\"\n                      className={`cedros-button cedros-button-sm ${withinPrivacyPeriod ? 'cedros-button-warning' : 'cedros-button-primary'}`}\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        handleProcessSingle(item);\n                      }}\n                      disabled={isProcessing || processingAll}\n                      title={\n                        withinPrivacyPeriod\n                          ? 'Early withdrawal (requires confirmation)'\n                          : 'Process this withdrawal'\n                      }\n                    >\n                      {isProcessing ? '...' : withinPrivacyPeriod ? 'Early' : 'Process'}\n                    </button>\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n\n          {totalPages > 1 && (\n            <div className=\"cedros-admin-pagination\">\n              <button\n                type=\"button\"\n                className=\"cedros-button cedros-button-outline cedros-button-sm\"\n                onClick={() => goToPage(currentPage - 1)}\n                disabled={currentPage <= 1}\n              >\n                Previous\n              </button>\n              <span className=\"cedros-admin-page-info\">\n                Page {currentPage} of {totalPages} ({total} total)\n              </span>\n              <button\n                type=\"button\"\n                className=\"cedros-button cedros-button-outline cedros-button-sm\"\n                onClick={() => goToPage(currentPage + 1)}\n                disabled={currentPage >= totalPages}\n              >\n                Next\n              </button>\n            </div>\n          )}\n        </>\n      )}\n    </div>\n  );\n}\n","/**\n * Admin privacy period deposits component\n *\n * Shows deposits that are still in the privacy period (completed but not yet ready for withdrawal).\n * Requires system admin privileges.\n */\n\nimport { useState, useEffect, useCallback } from 'react';\nimport { useAdminDeposits } from '../../../hooks/useAdminDeposits';\nimport type { AdminDepositItem, AdminDepositListResponse } from '../../../types/deposit';\nimport { FeatureDisabledMessage } from './FeatureDisabledMessage';\nimport { isFeatureDisabledError } from './featureDisabled';\n\nexport interface AdminPrivacyPeriodDepositsProps {\n  /** Number of items per page (default: 20) */\n  pageSize?: number;\n  /** Auto-refresh interval in milliseconds (0 to disable) */\n  refreshInterval?: number;\n  /** Additional CSS classes */\n  className?: string;\n  /** Callback when list is loaded */\n  onLoad?: (response: AdminDepositListResponse) => void;\n  /** Callback when a deposit item is clicked */\n  onItemClick?: (item: AdminDepositItem) => void;\n}\n\nfunction formatAmount(lamports: number | null): string {\n  if (lamports === null || lamports === undefined) return '—';\n  const solAmount = lamports / 1_000_000_000;\n  return `${solAmount.toFixed(4)} SOL`;\n}\n\nfunction formatDate(dateString: string): string {\n  const date = new Date(dateString);\n  return date.toLocaleDateString(undefined, {\n    year: 'numeric',\n    month: 'short',\n    day: 'numeric',\n    hour: '2-digit',\n    minute: '2-digit',\n  });\n}\n\nfunction truncateId(id: string): string {\n  if (id.length <= 12) return id;\n  return `${id.slice(0, 6)}...${id.slice(-4)}`;\n}\n\nfunction getTimeRemaining(dateString: string): string {\n  const date = new Date(dateString);\n  const now = new Date();\n  const diffMs = date.getTime() - now.getTime();\n\n  if (diffMs <= 0) return 'Ready';\n\n  const diffMins = Math.floor(diffMs / 60000);\n  const diffHours = Math.floor(diffMins / 60);\n  const diffDays = Math.floor(diffHours / 24);\n\n  if (diffDays > 0) {\n    const remainingHours = diffHours % 24;\n    return remainingHours > 0 ? `${diffDays}d ${remainingHours}h` : `${diffDays}d`;\n  }\n  if (diffHours > 0) {\n    const remainingMins = diffMins % 60;\n    return remainingMins > 0 ? `${diffHours}h ${remainingMins}m` : `${diffHours}h`;\n  }\n  return `${diffMins}m`;\n}\n\n/**\n * Admin privacy period deposits display\n *\n * Shows deposits that are still in the privacy period (not yet available for withdrawal).\n */\nexport function AdminPrivacyPeriodDeposits({\n  pageSize = 20,\n  refreshInterval = 0,\n  className = '',\n  onLoad,\n  onItemClick,\n}: AdminPrivacyPeriodDepositsProps) {\n  const { listInPrivacyPeriod, isLoading, error, clearError } = useAdminDeposits();\n\n  const [items, setItems] = useState<AdminDepositItem[]>([]);\n  const [total, setTotal] = useState(0);\n  const [offset, setOffset] = useState(0);\n  const [loadError, setLoadError] = useState<string | null>(null);\n\n  const fetchItems = useCallback(async () => {\n    try {\n      const result = await listInPrivacyPeriod({ limit: pageSize, offset });\n      setItems(result.deposits);\n      setTotal(result.total);\n      onLoad?.(result);\n      setLoadError(null);\n    } catch (err) {\n      const message =\n        err && typeof err === 'object' && 'message' in err\n          ? String((err as { message: unknown }).message)\n          : 'Failed to load deposits';\n      setLoadError(message);\n    }\n  }, [pageSize, offset, listInPrivacyPeriod, onLoad]);\n\n  // Reset offset when page size changes\n  useEffect(() => {\n    setOffset(0);\n  }, [pageSize]);\n\n  // Fetch on mount and when dependencies change\n  useEffect(() => {\n    fetchItems();\n  }, [fetchItems]);\n\n  // Auto-refresh\n  useEffect(() => {\n    if (refreshInterval <= 0) return;\n\n    const interval = setInterval(fetchItems, refreshInterval);\n    return () => clearInterval(interval);\n  }, [refreshInterval, fetchItems]);\n\n  const totalPages = Math.ceil(total / pageSize);\n  const currentPage = Math.floor(offset / pageSize) + 1;\n\n  const goToPage = (page: number) => {\n    const newOffset = (page - 1) * pageSize;\n    setOffset(Math.max(0, Math.min(newOffset, Math.max(0, total - 1))));\n  };\n\n  // Feature disabled state\n  const errorMessage = loadError || error;\n  if (isFeatureDisabledError(errorMessage)) {\n    return <FeatureDisabledMessage feature=\"Privacy Cash\" className={className} />;\n  }\n\n  // Error state\n  if (errorMessage) {\n    return (\n      <div\n        className={`cedros-admin-privacy-deposits cedros-admin-privacy-deposits-error ${className}`}\n      >\n        <p className=\"cedros-admin-error\">{errorMessage}</p>\n        <button\n          type=\"button\"\n          className=\"cedros-button cedros-button-outline\"\n          onClick={() => {\n            clearError();\n            setLoadError(null);\n            fetchItems();\n          }}\n        >\n          Retry\n        </button>\n      </div>\n    );\n  }\n\n  // Loading state (initial load only)\n  if (isLoading && items.length === 0) {\n    return (\n      <div\n        className={`cedros-admin-privacy-deposits cedros-admin-privacy-deposits-loading ${className}`}\n      >\n        <span className=\"cedros-admin-loading-indicator\" />\n        <span className=\"cedros-admin-loading-text\">Loading deposits...</span>\n      </div>\n    );\n  }\n\n  return (\n    <div className={`cedros-admin-privacy-deposits ${className}`}>\n      <div className=\"cedros-admin-privacy-deposits-header\">\n        <h4 className=\"cedros-admin-privacy-deposits-title\">In Privacy Period</h4>\n        <div className=\"cedros-admin-privacy-deposits-actions\">\n          <span className=\"cedros-admin-queue-count\">\n            {total} deposit{total !== 1 ? 's' : ''}\n          </span>\n          <button\n            type=\"button\"\n            className=\"cedros-admin__stats-bar-refresh\"\n            onClick={fetchItems}\n            disabled={isLoading}\n            title=\"Refresh list\"\n            aria-label=\"Refresh list\"\n          >\n            {isLoading ? '...' : '↻'}\n          </button>\n        </div>\n      </div>\n\n      {items.length === 0 ? (\n        <div className=\"cedros-admin-empty\">\n          <p className=\"cedros-admin-empty-message\">No deposits in privacy period.</p>\n        </div>\n      ) : (\n        <>\n          <div className=\"cedros-admin-privacy-table\">\n            <div className=\"cedros-admin-privacy-thead\">\n              <div className=\"cedros-admin-privacy-th\">\n                <button\n                  type=\"button\"\n                  className=\"cedros-admin-sort-button\"\n                  aria-label=\"Sort by user\"\n                >\n                  User <span className=\"cedros-admin-sort-icon\">↕</span>\n                </button>\n              </div>\n              <div className=\"cedros-admin-privacy-th\">\n                <button\n                  type=\"button\"\n                  className=\"cedros-admin-sort-button\"\n                  aria-label=\"Sort by amount\"\n                >\n                  Amount <span className=\"cedros-admin-sort-icon\">↕</span>\n                </button>\n              </div>\n              <div className=\"cedros-admin-privacy-th\">\n                <button\n                  type=\"button\"\n                  className=\"cedros-admin-sort-button\"\n                  aria-label=\"Sort by deposited\"\n                >\n                  Deposited <span className=\"cedros-admin-sort-icon\">↕</span>\n                </button>\n              </div>\n              <div className=\"cedros-admin-privacy-th\">\n                <button\n                  type=\"button\"\n                  className=\"cedros-admin-sort-button\"\n                  aria-label=\"Sort by ready in\"\n                >\n                  Ready In <span className=\"cedros-admin-sort-icon\">↕</span>\n                </button>\n              </div>\n            </div>\n            {items.map((item) => (\n              <div\n                key={item.id}\n                className=\"cedros-admin-privacy-row\"\n                onClick={() => onItemClick?.(item)}\n                onKeyDown={(e) => {\n                  if (e.key === 'Enter' || e.key === ' ') {\n                    e.preventDefault();\n                    onItemClick?.(item);\n                  }\n                }}\n                role={onItemClick ? 'button' : undefined}\n                tabIndex={onItemClick ? 0 : undefined}\n              >\n                <div className=\"cedros-admin-privacy-td\" title={item.userId}>\n                  {truncateId(item.userId)}\n                </div>\n                <div className=\"cedros-admin-privacy-td\">{formatAmount(item.amountLamports)}</div>\n                <div className=\"cedros-admin-privacy-td\">\n                  {item.completedAt ? formatDate(item.completedAt) : '—'}\n                </div>\n                <div className=\"cedros-admin-privacy-td cedros-admin-privacy-remaining\">\n                  {item.withdrawalAvailableAt ? getTimeRemaining(item.withdrawalAvailableAt) : '—'}\n                </div>\n              </div>\n            ))}\n          </div>\n\n          {totalPages > 1 && (\n            <div className=\"cedros-admin-pagination\">\n              <button\n                type=\"button\"\n                className=\"cedros-button cedros-button-outline cedros-button-sm\"\n                onClick={() => goToPage(currentPage - 1)}\n                disabled={currentPage <= 1}\n              >\n                Previous\n              </button>\n              <span className=\"cedros-admin-page-info\">\n                Page {currentPage} of {totalPages} ({total} total)\n              </span>\n              <button\n                type=\"button\"\n                className=\"cedros-button cedros-button-outline cedros-button-sm\"\n                onClick={() => goToPage(currentPage + 1)}\n                disabled={currentPage >= totalPages}\n              >\n                Next\n              </button>\n            </div>\n          )}\n        </>\n      )}\n    </div>\n  );\n}\n","/**\n * Admin withdrawal history component\n *\n * Shows deposits that have been fully withdrawn (processed).\n * Requires system admin privileges.\n */\n\nimport { useState, useEffect, useCallback, useMemo } from 'react';\nimport { useAdminDeposits } from '../../../hooks/useAdminDeposits';\nimport type { AdminDepositItem, AdminDepositListResponse } from '../../../types/deposit';\nimport { FeatureDisabledMessage } from './FeatureDisabledMessage';\nimport { isFeatureDisabledError } from './featureDisabled';\n\ntype WithdrawalSortField = 'userId' | 'amountLamports' | 'completedAt' | 'withdrawalTxSignature';\ntype SortOrder = 'asc' | 'desc';\n\nexport interface AdminWithdrawalHistoryProps {\n  /** Number of items per page (default: 20) */\n  pageSize?: number;\n  /** Auto-refresh interval in milliseconds (0 to disable) */\n  refreshInterval?: number;\n  /** Additional CSS classes */\n  className?: string;\n  /** Callback when list is loaded */\n  onLoad?: (response: AdminDepositListResponse) => void;\n  /** Callback when a withdrawal item is clicked */\n  onItemClick?: (item: AdminDepositItem) => void;\n}\n\nfunction formatAmount(lamports: number | null): string {\n  if (lamports === null || lamports === undefined) return '—';\n  const solAmount = lamports / 1_000_000_000;\n  return `${solAmount.toFixed(4)} SOL`;\n}\n\nfunction formatDate(dateString: string): string {\n  const date = new Date(dateString);\n  return date.toLocaleDateString(undefined, {\n    year: 'numeric',\n    month: 'short',\n    day: 'numeric',\n    hour: '2-digit',\n    minute: '2-digit',\n  });\n}\n\nfunction truncateSignature(sig: string): string {\n  if (sig.length <= 16) return sig;\n  return `${sig.slice(0, 8)}...${sig.slice(-6)}`;\n}\n\nfunction truncateId(id: string): string {\n  if (id.length <= 12) return id;\n  return `${id.slice(0, 6)}...${id.slice(-4)}`;\n}\n\n/**\n * Admin withdrawal history display\n *\n * Shows deposits that have been fully withdrawn.\n */\nexport function AdminWithdrawalHistory({\n  pageSize = 20,\n  refreshInterval = 0,\n  className = '',\n  onLoad,\n  onItemClick,\n}: AdminWithdrawalHistoryProps) {\n  const { listDeposits, isLoading, error, clearError } = useAdminDeposits();\n\n  const [items, setItems] = useState<AdminDepositItem[]>([]);\n  const [total, setTotal] = useState(0);\n  const [offset, setOffset] = useState(0);\n  const [loadError, setLoadError] = useState<string | null>(null);\n  const [sortField, setSortField] = useState<WithdrawalSortField>('completedAt');\n  const [sortOrder, setSortOrder] = useState<SortOrder>('desc');\n\n  const toggleSort = (field: WithdrawalSortField) => {\n    if (sortField === field) {\n      setSortOrder(sortOrder === 'asc' ? 'desc' : 'asc');\n    } else {\n      setSortField(field);\n      setSortOrder('desc');\n    }\n  };\n\n  const sortedItems = useMemo(() => {\n    return [...items].sort((a, b) => {\n      let aVal: string | number;\n      let bVal: string | number;\n\n      switch (sortField) {\n        case 'userId':\n          aVal = a.userId.toLowerCase();\n          bVal = b.userId.toLowerCase();\n          break;\n        case 'amountLamports':\n          aVal = a.amountLamports ?? 0;\n          bVal = b.amountLamports ?? 0;\n          break;\n        case 'completedAt':\n          aVal = a.completedAt ? new Date(a.completedAt).getTime() : 0;\n          bVal = b.completedAt ? new Date(b.completedAt).getTime() : 0;\n          break;\n        case 'withdrawalTxSignature':\n          aVal = a.withdrawalTxSignature || '';\n          bVal = b.withdrawalTxSignature || '';\n          break;\n        default:\n          return 0;\n      }\n\n      if (aVal < bVal) return sortOrder === 'asc' ? -1 : 1;\n      if (aVal > bVal) return sortOrder === 'asc' ? 1 : -1;\n      return 0;\n    });\n  }, [items, sortField, sortOrder]);\n\n  const fetchItems = useCallback(async () => {\n    try {\n      const result = await listDeposits({ status: 'withdrawn', limit: pageSize, offset });\n      setItems(result.deposits);\n      setTotal(result.total);\n      onLoad?.(result);\n      setLoadError(null);\n    } catch (err) {\n      const message =\n        err && typeof err === 'object' && 'message' in err\n          ? String((err as { message: unknown }).message)\n          : 'Failed to load withdrawal history';\n      setLoadError(message);\n    }\n  }, [pageSize, offset, listDeposits, onLoad]);\n\n  // Reset offset when page size changes\n  useEffect(() => {\n    setOffset(0);\n  }, [pageSize]);\n\n  // Fetch on mount and when dependencies change\n  useEffect(() => {\n    fetchItems();\n  }, [fetchItems]);\n\n  // Auto-refresh\n  useEffect(() => {\n    if (refreshInterval <= 0) return;\n\n    const interval = setInterval(fetchItems, refreshInterval);\n    return () => clearInterval(interval);\n  }, [refreshInterval, fetchItems]);\n\n  const totalPages = Math.ceil(total / pageSize);\n  const currentPage = Math.floor(offset / pageSize) + 1;\n\n  const goToPage = (page: number) => {\n    const newOffset = (page - 1) * pageSize;\n    setOffset(Math.max(0, Math.min(newOffset, Math.max(0, total - 1))));\n  };\n\n  // Feature disabled state\n  const errorMessage = loadError || error;\n  if (isFeatureDisabledError(errorMessage)) {\n    return <FeatureDisabledMessage feature=\"Privacy Cash\" className={className} />;\n  }\n\n  // Error state\n  if (errorMessage) {\n    return (\n      <div\n        className={`cedros-admin-withdrawal-history cedros-admin-withdrawal-history-error ${className}`}\n      >\n        <p className=\"cedros-admin-error\">{errorMessage}</p>\n        <button\n          type=\"button\"\n          className=\"cedros-button cedros-button-outline\"\n          onClick={() => {\n            clearError();\n            setLoadError(null);\n            fetchItems();\n          }}\n        >\n          Retry\n        </button>\n      </div>\n    );\n  }\n\n  // Loading state (initial load only)\n  if (isLoading && items.length === 0) {\n    return (\n      <div\n        className={`cedros-admin-withdrawal-history cedros-admin-withdrawal-history-loading ${className}`}\n      >\n        <span className=\"cedros-admin-loading-indicator\" />\n        <span className=\"cedros-admin-loading-text\">Loading withdrawal history...</span>\n      </div>\n    );\n  }\n\n  return (\n    <div className={`cedros-admin-withdrawal-history ${className}`}>\n      <div className=\"cedros-admin-withdrawal-history-header\">\n        <h4 className=\"cedros-admin-withdrawal-history-title\">Withdrawal History</h4>\n        <div className=\"cedros-admin-withdrawal-history-actions\">\n          <span className=\"cedros-admin-queue-count\">\n            {total} withdrawal{total !== 1 ? 's' : ''}\n          </span>\n          <button\n            type=\"button\"\n            className=\"cedros-admin__stats-bar-refresh\"\n            onClick={fetchItems}\n            disabled={isLoading}\n            title=\"Refresh list\"\n            aria-label=\"Refresh list\"\n          >\n            {isLoading ? '...' : '↻'}\n          </button>\n        </div>\n      </div>\n\n      {items.length === 0 ? (\n        <div className=\"cedros-admin-empty\">\n          <p className=\"cedros-admin-empty-message\">No withdrawals processed yet.</p>\n        </div>\n      ) : (\n        <>\n          <div className=\"cedros-admin-history-table\">\n            <div className=\"cedros-admin-history-thead\">\n              <div className=\"cedros-admin-history-th\">\n                <button\n                  type=\"button\"\n                  className={`cedros-admin-sort-button ${sortField === 'userId' ? 'cedros-admin-sort-active' : ''}`}\n                  onClick={() => toggleSort('userId')}\n                  aria-label=\"Sort by user\"\n                >\n                  User{' '}\n                  <span className=\"cedros-admin-sort-icon\">\n                    {sortField === 'userId' ? (sortOrder === 'asc' ? '↑' : '↓') : '↕'}\n                  </span>\n                </button>\n              </div>\n              <div className=\"cedros-admin-history-th\">\n                <button\n                  type=\"button\"\n                  className={`cedros-admin-sort-button ${sortField === 'amountLamports' ? 'cedros-admin-sort-active' : ''}`}\n                  onClick={() => toggleSort('amountLamports')}\n                  aria-label=\"Sort by amount\"\n                >\n                  Amount{' '}\n                  <span className=\"cedros-admin-sort-icon\">\n                    {sortField === 'amountLamports' ? (sortOrder === 'asc' ? '↑' : '↓') : '↕'}\n                  </span>\n                </button>\n              </div>\n              <div className=\"cedros-admin-history-th\">\n                <button\n                  type=\"button\"\n                  className={`cedros-admin-sort-button ${sortField === 'completedAt' ? 'cedros-admin-sort-active' : ''}`}\n                  onClick={() => toggleSort('completedAt')}\n                  aria-label=\"Sort by processed\"\n                >\n                  Processed{' '}\n                  <span className=\"cedros-admin-sort-icon\">\n                    {sortField === 'completedAt' ? (sortOrder === 'asc' ? '↑' : '↓') : '↕'}\n                  </span>\n                </button>\n              </div>\n              <div className=\"cedros-admin-history-th\">\n                <button\n                  type=\"button\"\n                  className={`cedros-admin-sort-button ${sortField === 'withdrawalTxSignature' ? 'cedros-admin-sort-active' : ''}`}\n                  onClick={() => toggleSort('withdrawalTxSignature')}\n                  aria-label=\"Sort by transaction\"\n                >\n                  Transaction{' '}\n                  <span className=\"cedros-admin-sort-icon\">\n                    {sortField === 'withdrawalTxSignature'\n                      ? sortOrder === 'asc'\n                        ? '↑'\n                        : '↓'\n                      : '↕'}\n                  </span>\n                </button>\n              </div>\n            </div>\n            {sortedItems.map((item) => (\n              <div\n                key={item.id}\n                className=\"cedros-admin-history-row\"\n                onClick={() => onItemClick?.(item)}\n                onKeyDown={(e) => {\n                  if (e.key === 'Enter' || e.key === ' ') {\n                    e.preventDefault();\n                    onItemClick?.(item);\n                  }\n                }}\n                role={onItemClick ? 'button' : undefined}\n                tabIndex={onItemClick ? 0 : undefined}\n              >\n                <div className=\"cedros-admin-history-td\" title={item.userId}>\n                  {truncateId(item.userId)}\n                </div>\n                <div className=\"cedros-admin-history-td\">{formatAmount(item.amountLamports)}</div>\n                <div className=\"cedros-admin-history-td\">\n                  {item.completedAt ? formatDate(item.completedAt) : '—'}\n                </div>\n                <div className=\"cedros-admin-history-td\">\n                  {item.withdrawalTxSignature ? (\n                    <a\n                      href={`https://orbmarkets.io/tx/${item.withdrawalTxSignature}`}\n                      target=\"_blank\"\n                      rel=\"noopener noreferrer\"\n                      className=\"cedros-admin-tx-link\"\n                      onClick={(e) => e.stopPropagation()}\n                      title={item.withdrawalTxSignature}\n                    >\n                      {truncateSignature(item.withdrawalTxSignature)}\n                    </a>\n                  ) : (\n                    '—'\n                  )}\n                </div>\n              </div>\n            ))}\n          </div>\n\n          {totalPages > 1 && (\n            <div className=\"cedros-admin-pagination\">\n              <button\n                type=\"button\"\n                className=\"cedros-button cedros-button-outline cedros-button-sm\"\n                onClick={() => goToPage(currentPage - 1)}\n                disabled={currentPage <= 1}\n              >\n                Previous\n              </button>\n              <span className=\"cedros-admin-page-info\">\n                Page {currentPage} of {totalPages} ({total} total)\n              </span>\n              <button\n                type=\"button\"\n                className=\"cedros-button cedros-button-outline cedros-button-sm\"\n                onClick={() => goToPage(currentPage + 1)}\n                disabled={currentPage >= totalPages}\n              >\n                Next\n              </button>\n            </div>\n          )}\n        </>\n      )}\n    </div>\n  );\n}\n"],"names":["AdminWithdrawalStats","refreshInterval","className","onLoad","getStats","isLoading","error","clearError","useAdminDeposits","stats","setStats","useState","loadError","setLoadError","fetchStats","useCallback","result","err","message","useEffect","interval","errorMessage","jsxs","jsx","StatsBar","formatAmount","lamports","formatDate","dateString","truncateId","id","getTimeElapsed","date","diffMs","diffMins","diffHours","diffDays","isWithinPrivacyPeriod","withdrawalAvailableAt","AdminWithdrawalQueue","pageSize","onItemClick","onWithdrawalProcessed","onAllProcessed","listPendingWithdrawals","processWithdrawal","processAllWithdrawals","items","setItems","total","setTotal","offset","setOffset","sortField","setSortField","sortOrder","setSortOrder","toggleSort","field","sortedItems","useMemo","a","b","aVal","bVal","processingId","setProcessingId","processingAll","setProcessingAll","processResult","setProcessResult","earlyWithdrawalItem","setEarlyWithdrawalItem","fetchItems","timer","totalPages","currentPage","goToPage","page","newOffset","handleProcessSingle","item","force","handleProcessAll","e","Fragment","withinPrivacyPeriod","isProcessing","getTimeRemaining","now","remainingHours","remainingMins","AdminPrivacyPeriodDeposits","listInPrivacyPeriod","truncateSignature","sig","AdminWithdrawalHistory","listDeposits"],"mappings":"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"}